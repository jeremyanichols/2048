"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9614],{1153:(e,t,a)=>{a.d(t,{k:()=>r});var n=a(4363),l=a(81278);function r(){let{query:e}=(0,l.useRouter)(),t=Array.isArray(e.validator)?e.validator[0]:e.validator;return t?n.isHexString(t)?t:Number(t):null}},1935:(e,t,a)=>{a.d(t,{n:()=>P});var n=a(6029),l=a(55729),r=a(56191),i=a(14187),o=a(63226),s=a(8066),d=a(1153),c=a(63904),u=a(89138),m=a(32052),h=a(32242),f=a(22900),v=a(63228),p=a(56042),x=a(71746),g=a(49633),E=a(64875),b=a(21505),w=a(76500);let T=(e,t)=>{let a=e.filter(e=>b.gH.from(e.rewards).gt(0)).sort((e,t)=>b.gH.from(e.rewards).gt(t.rewards)?-1:1),n=b.gH.from(o.Wp.formatEtherToWei(t)),l=[];for(let e of a){let t=n.gte(e.rewards)?e.rewards:n;if(n=n.sub(t),l.push({nftID:e.nftID,requestAmount:w.formatUnits(t,"wei"),address:e.address}),n.lte(0))break}return l};var S=a(47016);let A=e=>e<2?15e4:e<5?12e4:e<10?1e5:9e4,y=(e,t)=>{let a=T(t,e);return{gasLimit:A(a.length)*a.length,walletAddresses:a.map(e=>e.address),amounts:a.map(e=>e.requestAmount)}},C=()=>{let{txFeePool:e}=(0,E.useSfContracts)(),{validators:t}=(0,p.d)(),a=(0,f._1)(t),n=Object.keys(a),{data:l}=(0,S.o)(n),r=(null==l?void 0:l.map((e,t)=>({address:a[n[t]].nft.address,rewards:e[0],nftID:n[t]})))||[];return{claimRewards:(0,g.useMutation)({mutationFn:async t=>{let{type:a,amount:n,beneficiaryAddress:l}=t;try{if("legacy"===a){if(!n.legacy)throw Error("Legacy amount is null");let t=n?o.Wp.formatEtherToWei(n.legacy):0;return null==e?void 0:e.collectReward(l,t)}if("nft"===a){let{walletAddresses:t,amounts:a}=y(n.nft,r);return null==e?void 0:e.batchCollectReward(l,t,a)}{let t=[n.legacy,n.nft],{walletAddresses:a,amounts:i}=y(t[1],r),s=n.legacy?[l,...a]:a,d=n.legacy?[o.Wp.formatEtherToWei(n.legacy),...i]:i;return null==e?void 0:e.batchCollectReward(l,s,d)}}catch(e){return e}}}),claimSingleNFTReward:(0,g.useMutation)({mutationFn:t=>{let{amount:a,beneficiaryAddress:n,walletAddress:l}=t;if(!e)throw Error("Fee pool contract is not ready");let r=a?o.Wp.formatEtherToWei(a):0;return e.collectRewardForNFT(n,l,r)}})}};var N=a(4754),_=a(56659),I=a(17395);let R=e=>{let{validatorIndex:t}=e,{t:a}=(0,i.Bd)(),{url:n}=(0,m.XX)(),{activeAccount:r,activeChainId:s}=(0,N.v)(),{addPendingTx:d,createTxLink:g,addSafeTx:E}=(0,u.F)(),{claimSingleNFTReward:{mutateAsync:b},claimRewards:{mutateAsync:w}}=C(),{onOpenChange:T}=(0,h.s)("claimsDialog"),S=void 0!==t,{validators:A,isAllRecordsFetched:y}=(0,p.d)(S?{refetchInterval:13e3,options:{enabled:!1}}:void 0),{validators:R}=(0,I.Q)({indices:S?[t]:void 0}),L=S?null==R?void 0:R[0]:void 0,{data:j}=(0,x.g)(y?S&&L?[L]:A:void 0),D=(0,l.useMemo)(()=>S?{pendingNFT:null==j?void 0:j.pendingNFT,pendingLegacy:"0"}:j,[j,S]),O=o.Wp.padExecutionLayerData((null==D?void 0:D.pendingNFT)?o.Wp.formatWeiToEther(D.pendingNFT):"0"),k=o.Wp.padExecutionLayerData((null==D?void 0:D.pendingLegacy)?o.Wp.formatWeiToEther(D.pendingLegacy):"0"),W=(0,l.useMemo)(()=>(0,f._1)(A),[A]),[M,P]=(0,l.useState)({nft:"0",legacy:"0",all:"0"}),[K,z]=(0,l.useState)(void 0),H=(0,l.useCallback)(async e=>{let{type:t,amount:a}=e;if(!r||!s)throw Error("Missing required address, provider, or contract.");let l="",i={type:"claim",account:r,chainId:s,hash:l,link:""};try{var o,c;if(S&&(!a.nft||!(null==L||null==(o=L.nft)?void 0:o.address)))throw Error("Missing required amount for single claim.");if(S){let e=a.nft,t=null==L||null==(c=L.nft)?void 0:c.address;l=(await b({beneficiaryAddress:r,walletAddress:t,amount:e})).hash}else l=(await w({type:t,amount:a,beneficiaryAddress:r})).hash;((null==n?void 0:n.safeTx)?await (0,_.z)(l,n.safeTx):null)?E({...i,hash:l,onSuccess:e=>{d({...i,hash:e,link:g(e)}),T("txSubmitted")},onError:()=>{T("txError")}}):(d({...i,hash:l,link:g(l)}),T("txSubmitted"))}catch(e){z(e),T("txError")}},[b,w,r,s,W,null==L?void 0:L.owner,null==L?void 0:L.nft,null==n?void 0:n.safeTx]);return{onSubmit:(0,l.useCallback)(e=>{let{nftClaimingValue:t,legacyClaimingValue:a}=(0,v.pO)(e,O,k);P({nft:t,legacy:a,all:e}),z(void 0),T("txPending");let n=Number(t)>0,l=Number(a)>0;n&&l?H({type:"all",amount:{nft:String(t),legacy:String(a)}}):n&&!l?H({type:"nft",amount:{nft:String(t),legacy:null}}):H({type:"legacy",amount:{legacy:String(a),nft:null}})},[W,O,k]),txErrorMsg:K&&(0,c.u1)(K,a),claimValues:M,availableRewards:{nft:O,legacy:k}}};var L=a(43463),j=a(97850),D=a(1909),O=a(87903);let k=e=>{var t,a;let{availableRewards:n,type:r="mixed",onSubmit:s}=e,{t:d}=(0,i.Bd)(),{hasPendingClaims:c}=(0,u.F)(),{connectionStage:m}=(0,N.v)(),{apiStatus:h}=(0,O.a)(),f=null==h?void 0:h.isClaimingEnabled,p=n&&(Number(n.nft)>0||Number(n.legacy)>0),x=(0,v.dv)(null!=(t=null==n?void 0:n.nft)?t:0,null!=(a=null==n?void 0:n.legacy)?a:0),{formState:g,control:E,handleSubmit:b,getValues:w,setValue:T,watch:S,trigger:A,clearErrors:y}=(0,D.mN)({defaultValues:{rewards:null}}),C=g.errors.rewards,_=null===w("rewards"),I=(0,l.useCallback)(()=>{if(_)return;let e=w("rewards");0!==Number(e)&&A(),0===Number(e)&&(T("rewards",0),y()),C?T("rewards",null):T("rewards",o.Wp.padExecutionLayerData(String(w("rewards"))))},[C,_]),R=(0,l.useCallback)(()=>{s(String(w("rewards")))},[w,s]),L=(0,l.useMemo)(()=>{if("single"!==r)return(null==C?void 0:C.message)?void 0:{content:d("dashboard.KEYS.AVAILABLE_REWARDS_DETAILS",{nft:null==n?void 0:n.nft,legacy:null==n?void 0:n.legacy}),dangerousContent:!0}},[null==C?void 0:C.message,null==n?void 0:n.nft,null==n?void 0:n.legacy,r]);return(0,l.useEffect)(()=>{_||A()},[S("rewards")]),{buttonDisabled:!f||c||!!C||!!_||0===Number(w("rewards"))||"unsupportedConnected"===m,onSubmit:b(R),helperButtonProps:{children:d("dashboard.KEYS.MAX_BUTTON"),disabled:String(w("rewards"))===x||!p,onClick:()=>{T("rewards",x),A()}},inputFieldProps:{rules:{validate:e=>(0,v.i3)(e,x),min:{value:0,message:d("commonForms.ERRORS.TOO_SMALL",{value:0})},max:{value:x,message:d("commonForms.ERRORS.TOO_BIG",{value:x})}},control:E,inputProps:{disabled:!p,label:d("dashboard.KEYS.AMOUNT_TO_CLAIM_TITLE"),invalid:!!(null==C?void 0:C.message),hint:(null==C?void 0:C.message)?d(null==C?void 0:C.message,{value:x}):d("dashboard.KEYS.AVAILABLE_REWARDS",{amount:x}),hintTooltip:L,min:0,max:x,placeholder:o.Wp.padExecutionLayerData("0"),onBlur:()=>I()}}}};var W=a(79398);let M=e=>{let{availableRewards:t,type:a,validatorIndex:l,onSubmit:o}=e,{t:s}=(0,i.Bd)(),{buttonDisabled:d,inputFieldProps:c,onSubmit:u,helperButtonProps:m}=k({availableRewards:t,type:a,onSubmit:o});return(0,n.jsxs)("div",{className:"relative",children:[(0,n.jsxs)("div",{className:"mb-6 space-y-1 ",children:[(0,n.jsx)("h4",{className:"text-title",children:s("application.KEYS.CLAIM_TRANSACTION")}),"single"===a&&l&&(0,n.jsxs)("p",{className:"font-semibold text-callout text-itemSecondaryDefault",children:["Tip/mev rewards of validator ",l,"."]})]}),(0,n.jsxs)("form",{"data-testid":"inputForm-rewards",children:[(0,n.jsx)("div",{className:"relative mb-6",children:(0,n.jsx)(j.Z,{name:"rewards",buttonHelper:(0,n.jsx)("div",{className:"absolute -translate-y-1/2 right-1.5 flounder:right-2 top-1/2",children:(0,n.jsx)(r.$n,{size:"sm",color:"secondary","data-testid":"input-helperButton-rewards",...m})}),...c})}),(0,n.jsx)(W.X,{onClick:u,disabled:d,className:"w-full"})]})]})},P=e=>{let{index:t}=e,{t:a}=(0,i.Bd)(),{open:c,onOpenChange:u}=(0,h.s)("claimsDialog"),{onOpenChange:m}=(0,h.s)("walletCapsuleDialog"),{onOpenChange:f}=(0,h.s)("validatorDetailsDialog"),{setSelectedTab:v}=(0,s.d)("dashboardTabs"),p=(0,d.k)(),x="number"==typeof p?p:null!=t?t:void 0,{onSubmit:g,txErrorMsg:E,claimValues:b,availableRewards:w}=R({validatorIndex:x}),T={initial:(0,n.jsx)(M,{availableRewards:w,type:x?"single":"mixed",validatorIndex:x,onSubmit:g}),txPending:(0,n.jsx)(L.d,{type:"pending",title:a("dashboard.KEYS.CLAIM_PENDING_TITLE"),subtitle:a("dashboard.KEYS.CLAIM_VALUE",{value:o.Wp.padExecutionLayerData(b.all)})}),txError:(0,n.jsx)(L.d,{type:"error",title:(null==E?void 0:E.title)||a("dashboard.KEYS.CLAIM_FAILED_TITLE"),errorMessage:null==E?void 0:E.subtitle,onSubmit:()=>g(b.all),buttonTitle:a("stake.TRY_AGAIN")}),txSubmitted:(0,n.jsx)(L.d,{type:"submitted",title:a("common.WEB3.TX_SUBMITTED_TITLE"),subtitle:a("common.WEB3.TX_PENDING_SUBTITLE"),buttonTitle:a("common.WEB3.VIEW_PROGRESS"),onSubmit:()=>{m(!0),u(!1),v("claimHistory")}}),safeTxSubmitted:(0,n.jsx)(L.d,{type:"submitted",title:a("common.WEB3.TX_SUBMITTED_TITLE"),subtitle:a("common.WEB3.SAFE_TX_PENDING_SUBTITLE"),buttonTitle:a("common.WEB3.DISMISS"),onSubmit:()=>{u(!1)}}),closed:(0,n.jsx)(n.Fragment,{})},S=(0,l.useCallback)(e=>{!e&&"txPending"!==c&&(u(!1),x&&f(!0))},[c,u]),A="initial"===c;return(0,n.jsx)(r.lG.bL,{open:!!c,onOpenChange:S,children:(0,n.jsx)(r.lG.UC,{id:"claim-dialog",innerClassName:(0,r.cx)(A?"flounder:p-5 flounder:w-[500px]":"flounder:p-7 max-w-[440px] flounder:w-[440px]"),...{initial:{title:void 0},tx:{title:void 0,hideCloseButton:"txPending"===c}}[A?"initial":"tx"],children:T[c]})})}},8066:(e,t,a)=>{a.d(t,{d:()=>r});var n=a(55729),l=a(35394);let r=(e,t)=>{let{tabs:a,toggleTabs:r}=(0,l.o)(e=>({tabs:e.tabs,toggleTabs:e.toggleTabs}));return(0,n.useEffect)(()=>{t&&r(e,t)},[t]),{selectedTab:a[e],setSelectedTab:(0,n.useCallback)(t=>r(e,t),[])}}},8452:(e,t,a)=>{a.d(t,{F:()=>r});var n=a(6029),l=a(56191);let r=e=>{let{variant:t="green",className:a,animate:r=!1}=e,i={green:{baseColor:"#63E336",holoColor:"#C5FBFF"},pink:{baseColor:"#f6a1ce",holoColor:"#FFDBEE"},red:{baseColor:"rgb(var(--color-itemErrorDefault))",holoColor:"rgb(var(--color-itemErrorDefault))"},gray:{baseColor:"rgb(var(--color-itemSecondaryDefault))",holoColor:"rgb(var(--color-itemSecondaryDefault))"}};return(0,n.jsx)("div",{className:(0,l.cx)("align-middle text-center relative z-[2] clear-inline-indents flex items-center justify-center size-5",a),children:(0,n.jsxs)("svg",{viewBox:"0 0 32 32",className:"size-full",children:[(0,n.jsx)("defs",{children:(0,n.jsxs)("linearGradient",{gradientTransform:"rotate(45, 0.5, 0.5)",id:"".concat(t,"Gradient"),children:[(0,n.jsx)("stop",{stopColor:i[t].baseColor,stopOpacity:"1",offset:"0%",children:r&&(0,n.jsx)(n.Fragment,{children:(0,n.jsx)("animate",{attributeName:"stop-color",values:"".concat(i[t].baseColor,"; ").concat(i[t].holoColor,";").concat(i[t].baseColor),dur:"10s",repeatCount:"indefinite"})})}),(0,n.jsx)("stop",{stopColor:i[t].holoColor,stopOpacity:"1",offset:"100%",children:r&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)("animate",{attributeName:"stop-color",values:"".concat(i[t].holoColor,";").concat(i[t].baseColor,";").concat(i[t].holoColor),dur:"10s",repeatCount:"indefinite"}),(0,n.jsx)("animate",{attributeName:"offset",values:"1;.80;.60;.40;.20;0;.20;.40;.60;.80;1",dur:"10s",repeatCount:"indefinite"})]})})]})}),(0,n.jsx)("path",{style:{fill:"url(#".concat(t,"Gradient)")},fill:"url(#".concat(t,"Gradient)"),d:"M15.9999 1.33337C16.6117 1.33337 17.1451 1.74977 17.2934 2.34333L19.0288 9.28465C19.3901 10.73 19.5118 11.1485 19.7189 11.4722C19.9268 11.7971 20.2028 12.0731 20.5278 12.2811C20.8514 12.4882 21.27 12.6098 22.7153 12.9712L29.6566 14.7065C30.2502 14.8549 30.6666 15.3882 30.6666 16C30.6666 16.6119 30.2502 17.1452 29.6566 17.2936L22.7153 19.0289C21.27 19.3902 20.8514 19.5119 20.5278 19.719C20.2028 19.927 19.9268 20.2029 19.7189 20.5279C19.5118 20.8515 19.3901 21.2701 19.0288 22.7154L17.2934 29.6568C17.1451 30.2503 16.6117 30.6667 15.9999 30.6667C15.3881 30.6667 14.8548 30.2503 14.7064 29.6568L12.9711 22.7154C12.6097 21.2701 12.488 20.8515 12.2809 20.5279C12.073 20.2029 11.797 19.927 11.4721 19.719C11.1484 19.5119 10.7299 19.3902 9.28452 19.0289L2.3432 17.2936C1.74965 17.1452 1.33325 16.6119 1.33325 16C1.33325 15.3882 1.74965 14.8549 2.3432 14.7065L9.28453 12.9712C10.7299 12.6098 11.1484 12.4882 11.4721 12.2811C11.797 12.0731 12.073 11.7971 12.2809 11.4722C12.488 11.1485 12.6097 10.73 12.9711 9.28465L14.7064 2.34333C14.8548 1.74977 15.3881 1.33337 15.9999 1.33337ZM15.9999 8.16418L15.5581 9.93141C15.5419 9.99607 15.526 10.0599 15.5103 10.1228C15.2193 11.2904 14.9998 12.1708 14.5271 12.9095C14.1112 13.5594 13.5593 14.1114 12.9093 14.5272C12.1707 14.9999 11.2903 15.2194 10.1227 15.5105C10.0597 15.5262 9.99594 15.5421 9.93129 15.5582L8.16406 16L9.93129 16.4418C9.99594 16.458 10.0597 16.4739 10.1227 16.4896C11.2903 16.7807 12.1707 17.0002 12.9093 17.4728C13.5593 17.8887 14.1112 18.4407 14.5271 19.0906C14.9998 19.8293 15.2193 20.7097 15.5103 21.8772C15.526 21.9402 15.5419 22.004 15.5581 22.0687L15.9999 23.8359L16.4417 22.0687C16.4579 22.004 16.4738 21.9402 16.4895 21.8773C16.7806 20.7097 17 19.8293 17.4727 19.0906C17.8886 18.4407 18.4406 17.8887 19.0905 17.4728C19.8292 17.0002 20.7096 16.7807 21.8771 16.4896C21.9401 16.4739 22.0039 16.458 22.0686 16.4418L23.8358 16L22.0686 15.5582C22.0039 15.5421 21.9401 15.5262 21.8771 15.5105C20.7096 15.2194 19.8292 14.9999 19.0905 14.5272C18.4406 14.1114 17.8886 13.5594 17.4727 12.9095C17 12.1708 16.7806 11.2904 16.4895 10.1228C16.4738 10.0599 16.4579 9.99607 16.4417 9.93141L15.9999 8.16418Z"})]})})}},35236:(e,t,a)=>{a.d(t,{Q:()=>d});var n=a(14187),l=a(49633),r=a(63904),i=a(96136),o=a(32052),s=a(53665);let d=e=>{let{validatorIndicesOrCount:t,placeholderData:a,annualTipRewardsRate:d,enabled:c=!0}=e,{t:u}=(0,n.Bd)(),{url:m}=(0,o.XX)(),h="number"!=typeof t,f=!!(null==m?void 0:m.api)&&h&&!!t&&!!t.length,v=h?1:t,p=!!(null==m?void 0:m.api)&&f&&c,{data:x,error:g,isLoading:E}=(0,l.useQuery)(["validatorRewards",t,null==m?void 0:m.api],()=>f?s.y.getValidatorRewardsStats(m.api,t):null,{enabled:p,placeholderData:()=>a}),b=g&&(0,r.u1)(g,u),w=void 0===x&&!g&&!!p||p&&E,T=Number(null==x?void 0:x.percentageTotal)+Number(d);return{data:x,error:b,isLoading:w,enabled:!!(null==m?void 0:m.api),totalPercentage:T,protocolRewards:{ethers:(0,i.oo)(null==x?void 0:x.estimatedConsensusIncome,v,"beaconChain"),apr:(0,i.eH)(null==x?void 0:x.percentageConsensus,v)},tipMevRewards:{ethers:(0,i.oo)(null==x?void 0:x.estimatedExecutionIncome,v,"executionLayer"),apr:(0,i.eH)(null==x?void 0:x.percentageExecution,v)}}}},47016:(e,t,a)=>{a.d(t,{o:()=>o});var n=a(63226),l=a(64875),r=a(49633);let i=async(e,t)=>{if(!t)return[];let a=n.Db.createInterface(),l=a.encodeFunctionData("pendingFeePoolReward"),r=e.map(()=>l);return(await t.multicallStatic(e,r)).map(e=>a.decodeFunctionResult("pendingFeePoolReward",e))},o=(e,t)=>{let{nftManager:a}=(0,l.useSfContracts)();return(0,r.useQuery)(["tipAndMEVRewardsNFT",e],async()=>i(e,a),{enabled:(null==t?void 0:t.enabled)&&!!a,refetchInterval:13e3,...t})}},52124:(e,t,a)=>{a.d(t,{$:()=>eN});var n,l,r,i,o,s=a(6029),d=a(14187),c=a(15623),u=a(56191),m=a(62807),h=a(8452);let f=e=>{let{direction:t,buttonProps:a}=e;return(0,s.jsx)(u.$n,{application:!0,size:"md",variant:"outline",color:"secondary",className:"flex-1 relative h-full -ml-px max-h-9 text-itemSecondaryDefault hover:text-itemPrimaryDefault ring-1 ring-inset !p-[9px] hover:z-[2]",icon:{iconKey:"prev"===t?"arrowLeft":"arrowRight",size:18,className:"my-[-2px]"},...a})},v=e=>{let{variant:t,text:a,alertBoxProps:n,buttonProps:l,iconProps:r,tooltip:i}=e,o=x[t];return(0,s.jsx)(u.yh,{variant:o,iconProps:r||g[t],isLoading:"loading"===t,className:"flounder:-ml-px items-start !gap-2 mb-3 ring-itemPrimaryMute",loadingIconProps:{className:"mt-1"},...n,customizedContent:(0,s.jsx)(p,{text:a,buttonProps:l,tooltip:i})})},p=e=>{let{text:t,buttonProps:a,tooltip:n}=e;return(0,s.jsxs)("div",{className:"flex flex-col flex-1 gap-4 flounder:flex-row flounder:justify-between",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("span",{className:"text-[12px] rich-text font-semibold font-mono leading-tight text-inherit",dangerouslySetInnerHTML:{__html:t}}),n&&(0,s.jsx)(u.m_,{content:n,className:"flounder:max-w-[400px] font-mono",triggerProps:{className:"inline-flex ml-1 align-middle relative -top-px"},dangerousContent:!0,children:(0,s.jsx)(u.$n,{size:"xs",variant:"text",icon:{iconKey:"infoCircle",size:14},as:"span"})})]}),a&&(0,s.jsx)("div",{children:(0,s.jsx)(u.$n,{size:"sm",application:!0,variant:"text",...a,className:(0,u.cx)("!m-0 flounder:!-m-2 hover:text-inherit flex-grow justify-start pl-0 py-0 underline flounder:pl-0 flounder:justify-end ",null==a?void 0:a.className)})})]})},x={error:"error",success:"success",neutral:"neutral",loading:"neutral"},g={error:{iconKey:"alertFilled"},success:{iconKey:"roundCheck"},neutral:{iconKey:"alertFilled"},loading:void 0};var E=a(82203),b=a.n(E),w=a(55729),T=a(21505),S=a(17648),A=a.n(S),y=a(63226),C=a(32242),N=a(7477),_=a(22900),I=a(4754),R=a(51743),L=a(89187),j=a(91752),D=a(87903),O=a(49974);let k=e=>{var t;let{align:a,tipRewards:n,disableExit:l,validator:r}=e,{activeChainId:i,connectionStage:o}=(0,I.v)(),{down:c}=(0,N.P)(),m=null==c?void 0:c.flounder,{onOpenChange:h}=(0,R.E)(),{events:f}=(0,L.Z)(),[v,p]=(0,w.useState)(!1),{onOpenChange:x}=(0,C.s)("claimsDialog"),{onOpenChange:g}=(0,C.s)("validatorDetailsDialog"),{t:E}=(0,d.Bd)(),{apiStatus:S}=(0,D.a)(),k=!!(null==S?void 0:S.isNewStakingDialogEnabled),W=!!(null==S?void 0:S.isPartialWithdrawalEnabled),M="&network=".concat(A()(y.Bt[i||y.cG])),P="/ethereum/exit-request?validator=".concat(null==r?void 0:r.index).concat(M),K="".concat(P,"&withdrawalType=partial"),z=(null==r||null==(t=r.nft)?void 0:t.tokenId)!==void 0&&"connected"===o,H=void 0===n||n===_.A7.nftValue||"unsupportedConnected"===o,B=l||!(null==r?void 0:r.index)||"unsupportedConnected"===o||"readonly"===o,F=(null==r?void 0:r.withdrawalCredentials.includes(j.dz))&&k,Y=(null==r?void 0:r.status)!=="active_ongoing"||"connected"!==o||T.gH.from(r.balance).gte(O.Fn),V=()=>{x("initial"),g(!1),p(!1)},U=()=>{h(!0),p(!1),g(!1),null==f||f.setStakeMode("topUp"),r&&(null==f||f.setSelectedValidator({index:r.index,pubkey:r.pubkey,balance:r.balance}))},G=[W&&{href:K,children:E("withdrawal.KEYS.PARTIAL_WITHDRAWAL"),disabled:B,Element:b()},{href:P,children:E(W?"withdrawal.KEYS.FULL_WITHDRAWAL":"dashboard.KEYS.WITHDRAW"),disabled:B,Element:b()}].filter(Boolean),q=[z&&{onClick:()=>V(),children:E("application.KEYS.CLAIM_REWARDS_CTA"),disabled:H,startIcon:!m&&{iconKey:"ethLogo",size:12}},F&&{onClick:()=>U(),children:E("stake.TOPUP"),disabled:Y,startIcon:!m&&{iconKey:"downloadDown",size:12}}].filter(Boolean),X=(e,t)=>{let a={application:!0,size:"sm",disabled:e.disabled,children:e.children,startIcon:e.startIcon};return m?(0,s.jsx)(u.ms.q7,{className:(0,u.cx)("px-4 my-2"),children:(0,s.jsx)(u.$n,{...a,className:"w-full",variant:"primary",onClick:e.onClick})},t):(0,s.jsx)(u.$n,{...a,className:"w-full tracking-normal normal-case text-[14px] text-itemSecondaryDefault hover:text-itemPrimaryDefault",color:"secondary",variant:"outline",onClick:e.onClick,href:e.href,Element:e.href?b():"button"},t)};return m?(0,s.jsxs)(u.ms.bL,{open:v,onOpenChange:e=>p(!!e),children:[(0,s.jsx)(u.ms.l9,{asChild:!0,children:(0,s.jsx)(u.$n,{application:!0,size:"sm",variant:"outline",color:"secondary",icon:{iconKey:"dots",size:16},className:"flex-1 h-full -ml-px max-h-9 text-itemSecondaryDefault hover:text-itemPrimaryDefault ring-1 ring-inset !p-2",disabled:B})}),(0,s.jsxs)(u.ms.UC,{align:a,sideOffset:6,className:"py-2 pointer-events-all w-max",children:[q.map(X),G.map(X)]})]}):(0,s.jsxs)(u.az,{flex:!0,className:"gap-2",children:[q.map(X),W?(0,s.jsxs)(u.ms.bL,{open:v,onOpenChange:e=>p(!!e),children:[(0,s.jsx)(u.ms.l9,{asChild:!0,children:(0,s.jsx)(u.$n,{application:!0,color:"secondary",variant:"outline",size:"sm",disabled:B,startIcon:{iconKey:"downloadUp",size:12},className:"w-full tracking-normal normal-case text-[14px] text-itemSecondaryDefault hover:text-itemPrimaryDefault",children:E("dashboard.KEYS.WITHDRAW")})}),(0,s.jsx)(u.ms.UC,{align:a,sideOffset:6,className:"py-2 pointer-events-all w-max",children:G.map((e,t)=>{if(e)return(0,s.jsx)(u.ms.q7,{className:(0,u.cx)(m?"px-4 my-2":"mb-px"),children:(0,s.jsx)(u.$n,{application:!0,size:"sm",className:"w-full",variant:m?"primary":"menuItem",...e})},t)})})]}):G.map(X)]})};var W=a(22864),M=a(32052),P=a(38441);let K=e=>{let{tokenId:t}=e,{buttonsList:a}=z({tokenId:t}),{isLightTheme:n}=(0,P.i)(),l={size:"sm",color:n?"secondary":"primary",variant:"text",application:!0,className:"!m-0 !p-2"};return(0,s.jsx)(u.az,{flex:!0,className:(0,u.cx)("flounder:-my-2 whale:gap-0.5 gap-1"),children:a.map((e,t)=>(0,s.jsx)(u.m_,{content:e.children,triggerProps:{className:"block"},contentProps:{sideOffset:0},className:"font-mono",children:e.copy?(0,s.jsx)(u.$E,{textToCopy:e.href,children:t=>{let{handleCopyClick:a,isCopied:n}=t;return(0,s.jsx)(u.$n,{...l,icon:{iconKey:n?"roundCheck":e.startIcon.iconKey,className:n?"scale-110":void 0,size:22},onClick:a})}}):(0,s.jsx)(u.$n,{...l,...(0,W.bI)(e.href),href:e.href,icon:{iconKey:e.startIcon.iconKey,size:22}})},t))})},z=e=>{let{tokenId:t}=e,{t:a}=(0,d.Bd)(),{activeChainId:n}=(0,I.v)(),l=n||y.cG,{contract:r}=(0,M.XX)(),[i,o]=(0,w.useState)(""),s="".concat(i,"/ethereum/nft/").concat(t,"?network=").concat(A()(y.Bt[l])),c=(0,w.useMemo)(()=>({1:{opensea:"https://opensea.io/assets/ethereum/".concat(null==r?void 0:r.nftManager,"/").concat(t),etherscan:"https://etherscan.io/nft/".concat(null==r?void 0:r.nftManager,"/").concat(t)},560048:{opensea:"https://testnets.opensea.io/assets/hoodi/".concat(null==r?void 0:r.nftManager,"/").concat(t),etherscan:"https://hoodi.etherscan.io/nft/".concat(null==r?void 0:r.nftManager,"/").concat(t)}}),[null==r?void 0:r.nftManager,t]),u=(0,w.useMemo)(()=>[{children:a("dashboard.KEYS.VIEW_ON_ETHERSCAN"),startIcon:{iconKey:"roundEtherscan"},href:c[l].etherscan,copy:!1},{children:a("dashboard.KEYS.VIEW_ON_OPENSEA"),startIcon:{iconKey:"roundOpensea"},href:c[l].opensea,copy:!1},{children:a("dashboard.KEYS.SHARE_ON_TWITTER"),startIcon:{iconKey:"roundTwitter"},href:"https://twitter.com/intent/tweet?text=".concat(encodeURIComponent("Minted Ethereum Validator NFT for 32 Ether with @stakefish. ".concat(s," \n\n#EthereumNFTs #stakefishNftAsteroid"))),copy:!1}],[l,c,s]);return(0,w.useEffect)(()=>{o(window.location.origin)},[]),{buttonsList:u}};var H=a(30618);let B=e=>{let{disabled:t=!1}=e;return(0,s.jsx)("div",{className:"absolute inset-0",children:(0,s.jsx)("div",{className:(0,u.cx)("absolute size-full pointer-events-none will-change-transform",!t&&"opacity-70 after:absolute before:absolute after:pointer-events-none before:pointer-events-none after:mix-blend-multiply before:mix-blend-multiply before:size-[1529px] before:top-[-804px] before:left-[-1279px] before:bg-[radial-gradient(50%_50%_at_50%_50%,var(--mousemove-gradient1)_0%,rgba(255,219,238,0)_100%)] after:size-[1529px] after:top-0 after:left-[-232px] after:bg-[radial-gradient(50%_50%_at_50%_50%,var(--mousemove-gradient2)_0%,rgba(235,252,239,0)_100%)]"),children:(0,s.jsx)("span",{className:t?void 0:"absolute pointer-events-none mix-blend-multiply size-[1315px] top-[-928px] left-[17px] bg-[radial-gradient(50%_50%_at_50%_50%,var(--mousemove-gradient3)_0%,rgba(218,231,255,0)_100%)]"})})})},F=e=>{let{children:t,disabled:a,animate:n=!0}=e;return(0,s.jsxs)("div",{className:"relative overflow-hidden bg-pool size-full ring-1 ring-inset ring-itemPrimaryMute bg-backgroundPrimaryDefault",children:[(0,s.jsx)(B,{disabled:a}),(0,s.jsx)("div",{className:(0,u.cx)("size-full relative z-[2] flex items-center justify-center will-change-transform [transform-style:preserve-3d]",n&&"animate-fadeIn duration-1000"),children:t})]})};var Y=a(39635);let V={src:"/_next/static/media/default-nft.53c06623.svg"},U={src:"/_next/static/media/default-nft-dark.c29fb29e.svg"},G={src:"/_next/static/media/unavailable-nft.18aea3aa.svg"},q={src:"/_next/static/media/unavailable-nft-dark.e1bb9cf0.svg"},X={src:"/_next/static/media/utils-nft.20ad0bc3.svg"},$={src:"/_next/static/media/utils-nft-dark.80463138.svg"};function Z(){return(Z=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(null,arguments)}let Q=function(e){return w.createElement("svg",Z({xmlns:"http://www.w3.org/2000/svg",width:196,height:118,fill:"none"},e),n||(n=w.createElement("g",{fill:"currentColor",opacity:.3},w.createElement("path",{d:"M146.23 91.664c1.009 0 1.862-.31 2.483-.853.621-.621 1.009-1.32 1.009-2.329 0-.931-.31-1.707-1.009-2.25-.621-.544-1.474-.855-2.483-.855s-1.863.31-2.484.854-.932 1.32-.932 2.251q0 1.397.932 2.329c.621.543 1.475.853 2.484.853"}),w.createElement("path",{d:"M146.54 95.312h-12.185v-.698c0-1.242.31-2.251.853-2.872.544-.621 1.475-1.01 2.717-1.164l.931-.078c.699-.078 1.165-.31 1.553-.699s.621-.93.621-1.63c0-1.009-.466-2.25-2.562-2.25-.31 0-.543 0-.698.077l-1.009.078c-2.639.233-4.735 1.164-6.21 2.794s-2.173 3.803-2.173 6.442h-1.863c-2.25 0-2.716 1.242-2.716 2.329 0 1.086.466 2.328 2.716 2.328h1.863v14.359c0 .931.311 1.63.854 2.096q.815.698 2.096.698 1.28 0 2.095-.698c.544-.466.854-1.165.854-2.096V99.969h8.926v14.359c0 .931.31 1.63.854 2.096q.814.698 2.095.698c.854 0 1.552-.233 2.096-.776.543-.466.854-1.242.854-2.096V97.563c.077-.931-.389-2.25-2.562-2.25M170.525 107.42c-.466-.853-1.32-1.474-2.484-2.018-1.087-.543-2.639-1.009-4.58-1.397-1.785-.388-2.949-.698-3.57-1.086-.543-.311-.776-.776-.776-1.397s.233-1.165.776-1.553 1.32-.62 2.329-.62c.853 0 1.552.077 2.173.31q.931.35 2.095.931c.466.233.854.466 1.165.621.31.155.698.233 1.009.233q.815 0 1.397-.699c.388-.465.543-1.008.543-1.63 0-1.008-.543-1.862-1.475-2.483-.931-.621-1.94-1.01-3.104-1.32a13.7 13.7 0 0 0-3.571-.465c-1.707 0-3.259.31-4.579.854-1.319.543-2.406 1.397-3.182 2.483s-1.164 2.251-1.164 3.57c0 1.708.621 3.105 1.785 4.114s3.027 1.708 5.588 2.251c1.397.31 2.484.621 3.182.854.621.233 1.087.465 1.32.698s.31.544.31.932c0 .621-.31 1.086-.853 1.397-.621.388-1.553.543-2.639.543-1.165 0-2.096-.078-2.795-.31-.776-.233-1.552-.544-2.483-.932-.932-.465-1.63-.698-2.173-.698s-1.01.233-1.398.621-.543.931-.543 1.552c0 1.087.543 1.94 1.475 2.561 1.94 1.242 4.579 1.863 7.684 1.863 2.716 0 4.967-.621 6.597-1.785q2.562-1.863 2.561-4.89c.156-1.242-.155-2.328-.62-3.105M187.445 94.847q-2.329 0-4.191.93c-.932.467-1.786 1.088-2.407 1.941V88.56c0-.854-.31-1.475-.853-1.94q-.816-.7-2.096-.7c-.854 0-1.63.234-2.173.777s-.854 1.164-.854 2.018v25.613c0 .854.233 1.552.776 2.096.544.543 1.242.776 2.173.776.932 0 1.63-.233 2.174-.776.543-.544.853-1.242.853-2.096v-9.547c0-1.552.466-2.794 1.32-3.725q1.28-1.398 3.493-1.397c1.242 0 2.095.31 2.716.931.544.621.854 1.708.854 3.105v10.633c0 .854.31 1.552.854 2.096.543.543 1.242.776 2.173.776s1.63-.233 2.173-.776c.544-.544.776-1.242.776-2.096v-10.556c-.155-5.976-2.716-8.925-7.761-8.925M17.696 107.42c-.465-.853-1.32-1.474-2.483-2.018-1.087-.543-2.64-1.009-4.58-1.397-1.785-.388-2.949-.698-3.57-1.086-.543-.311-.776-.776-.776-1.397s.233-1.165.776-1.553 1.32-.62 2.329-.62c.853 0 1.552.077 2.173.31q.931.35 2.095.931c.466.233.854.466 1.165.621.31.155.698.233 1.009.233q.815 0 1.397-.699c.388-.465.543-1.008.543-1.63 0-1.008-.543-1.862-1.475-2.483-.931-.621-1.94-1.01-3.104-1.32a13.7 13.7 0 0 0-3.57-.465c-1.708 0-3.26.31-4.58.854-1.32.543-2.406 1.397-3.182 2.483s-1.164 2.251-1.164 3.57c0 1.708.62 3.105 1.785 4.114 1.164 1.009 3.027 1.708 5.588 2.251 1.397.31 2.484.621 3.182.854.621.233 1.087.465 1.32.698s.31.544.31.932c0 .621-.31 1.086-.854 1.397-.62.388-1.552.543-2.638.543-1.165 0-2.096-.078-2.795-.31-.776-.233-1.552-.544-2.483-.932-.932-.465-1.63-.698-2.174-.698-.543 0-1.009.233-1.397.621S0 112.155 0 112.776c0 1.087.543 1.94 1.475 2.561 1.94 1.242 4.579 1.863 7.684 1.863 2.716 0 4.967-.621 6.597-1.785q2.56-1.863 2.561-4.89c.078-1.242-.155-2.328-.62-3.105M33.762 112.621l-1.165-.078c-1.785-.155-2.638-1.164-2.638-3.105v-9.469h3.337c.854 0 1.475-.233 1.94-.543.466-.388.699-1.01.699-1.708 0-.776-.233-1.32-.699-1.707-.465-.388-1.164-.543-1.94-.543H29.96V91.82c0-.854-.31-1.553-.854-2.018-.544-.544-1.242-.777-2.096-.777-.931 0-1.63.233-2.173.776-.543.544-.854 1.165-.854 2.019v3.648H22.12c-.853 0-1.474.232-1.94.543-.466.388-.698 1.009-.698 1.707 0 .776.232 1.32.698 1.708s1.087.543 1.94.543h1.863v9.081c0 4.968 2.484 7.684 7.451 7.995l1.164.077h.389c.853 0 1.63-.155 2.095-.543.621-.388.932-1.009.932-1.785.155-.932-.233-2.096-2.251-2.173M55.107 97.098c-1.475-1.475-3.726-2.251-6.675-2.251q-2.096 0-4.191.465c-1.398.31-2.64.776-3.648 1.32-.621.31-1.087.698-1.32 1.087-.31.388-.388.853-.388 1.397 0 .698.155 1.241.543 1.629.389.466.854.621 1.475.621.388 0 .931-.155 1.708-.543a27 27 0 0 1 3.027-1.009c.854-.233 1.63-.388 2.483-.388 1.242 0 2.174.31 2.717.854.543.621.854 1.552.854 2.872v.698h-.776c-3.105 0-5.589.233-7.374.621-1.863.388-3.182 1.087-3.958 2.018-.854.931-1.242 2.251-1.242 3.803 0 1.32.31 2.484 1.009 3.493a7.9 7.9 0 0 0 2.794 2.484c1.164.621 2.484.853 3.958.853 1.398 0 2.717-.31 3.803-1.009a5.85 5.85 0 0 0 1.863-1.785c0 .776.31 1.397.776 1.863.544.543 1.242.776 2.018.776.854 0 1.553-.233 2.096-.776.543-.466.776-1.164.776-2.018v-10.478c-.155-2.794-.931-5.123-2.328-6.597m-3.493 10.245v.621c0 1.397-.466 2.639-1.242 3.492-.853.932-1.94 1.32-3.26 1.32-.853 0-1.63-.233-2.173-.776-.62-.544-.854-1.242-.854-2.018 0-.699.233-1.164.621-1.553.388-.388 1.164-.698 2.096-.853 1.009-.156 2.561-.233 4.424-.233zM81.341 112.233l-7.218-6.52 6.52-6.054c.62-.621.93-1.242.93-2.018 0-.699-.31-1.397-.775-1.94-.544-.544-1.165-.777-1.94-.777-.7 0-1.398.31-1.941.854l-8.848 8.383V88.715c0-.931-.31-1.63-.854-2.096q-.815-.698-2.096-.698-1.28 0-2.095.698c-.544.466-.854 1.165-.854 2.096v25.613c0 .932.31 1.63.854 2.096q.815.698 2.095.698t2.096-.698c.543-.466.854-1.164.854-2.096v-6.675l9.546 8.693c.621.544 1.242.854 1.94.854.7 0 1.32-.31 1.864-.854.543-.543.776-1.242.776-1.94.077-.854-.233-1.552-.854-2.173M102.22 110.603c-.465 0-1.086.233-2.018.698q-1.28.582-2.328.932c-.699.232-1.475.31-2.329.31-1.707 0-3.027-.466-3.958-1.319-.854-.854-1.397-2.096-1.552-3.881h12.34c.854 0 1.941-.388 1.941-2.096 0-2.095-.388-3.958-1.164-5.51a8.95 8.95 0 0 0-3.338-3.648c-1.474-.854-3.182-1.32-5.045-1.32-2.018 0-3.88.466-5.433 1.397q-2.445 1.397-3.725 3.959c-.854 1.707-1.32 3.647-1.32 5.821 0 3.415 1.009 6.209 3.027 8.227s4.812 3.027 8.227 3.027c1.165 0 2.329-.155 3.57-.466 1.242-.31 2.407-.776 3.338-1.319 1.164-.621 1.708-1.475 1.708-2.484 0-.698-.156-1.242-.544-1.707-.388-.388-.853-.621-1.397-.621m-3.104-6.675h-9.081c.232-1.475.698-2.639 1.474-3.493s1.94-1.32 3.26-1.32c1.397 0 2.406.389 3.105 1.242.776.854 1.164 2.018 1.242 3.571"}),w.createElement("path",{fillRule:"evenodd",d:"M115.337 102.298c1.94.233 3.415 2.018 3.182 4.036-.233 1.94-2.018 3.415-4.036 3.182-1.785-.233-3.182-1.785-3.182-3.57 0-2.018 1.63-3.571 3.648-3.571.155-.155.233-.155.388-.077M118.364 0c-10.479 0-19.793 4.58-26.157 11.875a39.97 39.97 0 0 1 19.171 9.081c3.803 3.105 7.141 6.753 10.013 10.789l1.629 2.406c.311.388.311.854-.077 1.32l-1.63 2.406c-2.794 4.036-6.209 7.683-10.012 10.788a39.97 39.97 0 0 1-19.094 9.004c6.365 7.218 15.678 11.875 26.157 11.875 19.171 0 34.771-15.601 34.771-34.772S137.612 0 118.364 0",clipRule:"evenodd"}),w.createElement("path",{fillRule:"evenodd",d:"M87.63 50.916h.543c13.194-.931 22.431-10.478 26.467-15.523.31-.388.31-.854 0-1.165-3.959-5.045-13.273-14.591-26.467-15.523h-.544c-2.483 4.813-3.958 10.246-3.958 16.067-.078 5.821 1.397 11.332 3.958 16.144m13.893-19.637c.155-.078.232-.078.388-.078 1.94.233 3.415 2.018 3.182 4.036-.233 1.94-2.018 3.416-4.036 3.183-1.785-.233-3.182-1.785-3.182-3.57 0-2.019 1.63-3.57 3.648-3.57",clipRule:"evenodd"}),w.createElement("path",{fillRule:"evenodd",d:"M56.657 35.315a.816.816 0 0 1 0-1.009c8.15-10.167 19.404-16.144 30.892-15.6a38 38 0 0 1 4.656-6.83 31 31 0 0 0-3.725-.466c-10.711-.466-21.267 3.182-29.339 10.245a46.3 46.3 0 0 0-6.752 6.752h-.078c-.155.078-.31.078-.388-.077-2.329-4.114-4.114-8.46-5.433-12.962v-.078c-.388-.931-1.087-1.707-2.096-2.095-.776-.31-1.707-.31-2.484.077-1.474.777-2.25 2.484-1.94 4.114v.078a63.4 63.4 0 0 0 7.374 16.765.99.99 0 0 1 0 .931 62.8 62.8 0 0 0-7.374 16.843v.155c0 1.475.854 2.872 2.25 3.493.389.155.855.31 1.32.31 1.165 0 2.251-.62 2.872-1.63l.078-.078v-.077c1.32-4.502 3.104-8.926 5.433-12.962v-.078c.078-.077.31-.155.388 0 2.018 2.484 4.346 4.735 6.752 6.753 7.452 6.52 16.998 10.168 26.933 10.4.776 0 1.63 0 2.406-.077 1.32-.078 2.562-.31 3.803-.543a40 40 0 0 1-4.656-6.753c-11.41.543-22.664-5.433-30.892-15.6",clipRule:"evenodd"}))))};function J(){return(J=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(null,arguments)}function ee(){return(ee=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)({}).hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(null,arguments)}let et=e=>{let{wrapperClassName:t,className:a,variant:n="default",animateCard:l,loading:r,image:i,...o}=e,{isDarkTheme:d}=(0,P.i)(),c={disabled:{light:"url(".concat(X.src,")"),dark:"url(".concat($.src,")")},unavailable:{light:"url(".concat(G.src,")"),dark:"url(".concat(q.src,")")},default:{light:"url(".concat(V.src,")"),dark:"url(".concat(U.src,")")},empty:{light:"none",dark:"none"}};return(0,s.jsx)("div",{className:(0,u.cx)("motion-reduce:transition-none transition-all duration-300",t),...o,children:"unavailable"===n?(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center text-backgroundInverseOnMute gap-11",children:[(0,s.jsx)(Q,{}),(0,s.jsx)("div",{className:"dark:opacity-50",children:ea.ethereum})]}):(0,s.jsxs)("div",{className:(0,u.cx)("mx-auto relative top-0 flex items-center justify-center select-none bg-contain	bg-center bg-no-repeat",l&&"animate-scaleIn ease-in-out will-change-transform [transform-style:preserve-3d]","disabled"===n?"w-[150px] flounder:w-[216px] h-[calc(150px*1.72)] flounder:h-[calc(216px*1.72)]":"min-w-[200px] aspect-[1/1.7] w-[40vw] max-w-[340px]",a),style:{backgroundImage:n&&void 0!==d?c[n][d?"dark":"light"]:void 0},children:[(r||"default"===n&&!i)&&(0,s.jsx)("div",{className:(0,u.cx)("absolute left-1/2 top-1/2 -translate-x-1/2 -translate-y-full -mt-0.5 flounder:-mt-1","default"===n?"z-[2]":"z-0"),children:(0,s.jsx)(Y.m,{size:"tuna"})}),i&&(0,s.jsx)("img",{className:"w-full h-auto relative z-[1]",src:i})]})})},ea={ethereum:(0,s.jsx)(function(e){return w.createElement("svg",J({xmlns:"http://www.w3.org/2000/svg",width:266,height:80,fill:"none"},e),l||(l=w.createElement("g",{opacity:.3},w.createElement("path",{fill:"currentColor",d:"M2.6 2.6h260.8v74.8H2.6z"}),w.createElement("path",{fill:"#fff",stroke:"#fff",strokeWidth:.8,d:"M87.08 44.23a.696.696 0 0 1-.705.685H73.41c.332 3.207 2.738 6.14 6.14 6.14 2.327 0 4.048-.88 5.339-2.737a.7.7 0 0 1 .567-.333.63.63 0 0 1 .645.646.6.6 0 0 1-.097.332c-1.31 2.269-3.911 3.383-6.454 3.383-4.36 0-7.49-3.91-7.49-8.076s3.11-8.077 7.49-8.077 7.51 3.872 7.53 8.038Zm-1.39-.605c-.273-3.208-2.737-6.141-6.14-6.141s-5.808 2.933-6.14 6.14zm17.151-7.119a.665.665 0 0 1 .645.646.624.624 0 0 1-.645.645h-3.48v13.67a.65.65 0 0 1-.646.645.665.665 0 0 1-.646-.646v-13.67h-3.344a.63.63 0 0 1-.645-.644.65.65 0 0 1 .645-.646h3.344V31.52a.694.694 0 0 1 .587-.685.64.64 0 0 1 .724.645v5.026zm21.218 6.61v8.272a.666.666 0 0 1-.646.645.62.62 0 0 1-.601-.395.65.65 0 0 1-.044-.25v-8.272c0-2.796-1.584-5.573-4.693-5.573-3.99 0-5.71 3.48-5.476 7.06 0 .097.039.508.039.566v6.2a.69.69 0 0 1-.586.684.64.64 0 0 1-.724-.645V24.206a.65.65 0 0 1 .645-.645.665.665 0 0 1 .646.645v15.37c1.114-1.994 3.109-3.343 5.436-3.343 3.833 0 6.004 3.344 6.004 6.883Zm23.29 1.115a.695.695 0 0 1-.704.684H133.68c.333 3.207 2.738 6.14 6.141 6.14 2.327 0 4.048-.88 5.338-2.737a.7.7 0 0 1 .567-.333.626.626 0 0 1 .646.646.6.6 0 0 1-.098.332c-1.31 2.269-3.911 3.383-6.453 3.383-4.361 0-7.49-3.91-7.49-8.076s3.109-8.077 7.49-8.077c4.341 0 7.509 3.872 7.528 8.038Zm-1.408-.607c-.273-3.207-2.737-6.14-6.14-6.14s-5.808 2.933-6.14 6.14zm17.346-6.512a.656.656 0 0 1-.606.704c-3.813.568-5.534 3.677-5.534 7.295v6.199a.697.697 0 0 1-.587.684.64.64 0 0 1-.723-.645V37.21a.69.69 0 0 1 .586-.684.64.64 0 0 1 .724.645v2.875c1.075-1.819 3.207-3.54 5.436-3.54.333 0 .704.235.704.606Zm21.316 7.119a.696.696 0 0 1-.704.684h-12.966c.333 3.207 2.738 6.14 6.141 6.14 2.327 0 4.048-.88 5.339-2.737a.7.7 0 0 1 .567-.333.62.62 0 0 1 .601.396q.047.12.044.25a.6.6 0 0 1-.098.332c-1.31 2.269-3.911 3.383-6.453 3.383-4.361 0-7.49-3.91-7.49-8.076s3.109-8.077 7.49-8.077c4.38 0 7.509 3.872 7.529 8.038Zm-1.389-.607c-.273-3.207-2.737-6.14-6.14-6.14s-5.808 2.933-6.141 6.14zm22.352-6.355v14.197a.664.664 0 0 1-.645.646.63.63 0 0 1-.601-.396.6.6 0 0 1-.044-.25v-2.698c-1.076 2.131-2.973 3.676-5.398 3.676-3.852 0-5.984-3.344-5.984-6.884v-8.31a.65.65 0 0 1 .646-.646.667.667 0 0 1 .645.645v8.311c0 2.797 1.584 5.574 4.693 5.574 4.361 0 5.398-4.087 5.398-8.605v-5.3a.653.653 0 0 1 .88-.605.7.7 0 0 1 .41.645Zm32.834 5.788v8.311a.665.665 0 0 1-.645.646.626.626 0 0 1-.646-.646v-8.31c0-2.797-1.584-5.535-4.693-5.535-3.911 0-5.397 4.185-5.397 7.431v6.414a.666.666 0 0 1-.646.646.62.62 0 0 1-.601-.396.7.7 0 0 1-.044-.25v-8.31c0-2.797-1.584-5.535-4.693-5.535-3.95 0-5.574 3.11-5.437 7.255 0 .098.039.274 0 .333v6.238a.69.69 0 0 1-.586.684.638.638 0 0 1-.724-.645V37.21a.695.695 0 0 1 .587-.684.64.64 0 0 1 .723.645v2.366c1.115-1.994 3.11-3.304 5.437-3.304 2.64 0 4.693 1.681 5.534 4.126 1.076-2.425 3.168-4.126 5.847-4.126 3.813 0 5.984 3.304 5.984 6.824Z"}),w.createElement("path",{fill:"#fff",d:"M43.43 33.358 27.2 40.73l16.23 9.602 16.251-9.602z"}),w.createElement("path",{fill:"#fff",d:"m27.2 40.73 16.23 9.602v-36.55zM43.43 13.783v36.549l16.25-9.602zM27.2 43.82 43.43 66.7V53.402zM43.43 53.402V66.7l16.25-22.88z"}))))},{}),solana:(0,s.jsx)(function(e){return w.createElement("svg",ee({xmlns:"http://www.w3.org/2000/svg",width:309,height:79,fill:"none"},e),w.createElement("g",{opacity:.3},r||(r=w.createElement("path",{fill:"currentColor",d:"M2.572 2.669h303.84v73.84H2.572z"})),w.createElement("mask",{id:"solana_svg__a",width:249,height:38,x:30,y:20,maskUnits:"userSpaceOnUse",style:{maskType:"luminance"}},i||(i=w.createElement("path",{fill:"#fff",d:"M30.412 20.91h248.064v36.863H30.412z"}))),o||(o=w.createElement("g",{fill:"#fff",mask:"url(#solana_svg__a)"},w.createElement("path",{d:"m72.087 49.974-6.804 7.296a1.57 1.57 0 0 1-1.152.503H31.875a.79.79 0 0 1-.58-1.328l6.797-7.296a1.58 1.58 0 0 1 1.151-.503H71.5a.787.787 0 0 1 .588 1.328M65.283 35.28a1.6 1.6 0 0 0-1.152-.503H31.875a.791.791 0 0 0-.58 1.328l6.797 7.3a1.6 1.6 0 0 0 1.151.503H71.5a.79.79 0 0 0 .577-1.328zm-33.408-5.242H64.13a1.57 1.57 0 0 0 1.152-.503l6.804-7.296a.788.788 0 0 0-.588-1.329H39.244a1.58 1.58 0 0 0-1.152.503l-6.797 7.296a.791.791 0 0 0 .58 1.329M111.413 36.5H94.156v-5.683H115.9v-5.684h-21.8a5.67 5.67 0 0 0-5.703 5.641v5.76a5.67 5.67 0 0 0 5.703 5.649h17.28v5.683H88.807v5.683h22.606a5.67 5.67 0 0 0 5.703-5.64v-5.76a5.68 5.68 0 0 0-1.68-4.007 5.68 5.68 0 0 0-4.023-1.642m33.431-11.367h-17.322a5.673 5.673 0 0 0-5.718 5.641v17.134a5.67 5.67 0 0 0 2.555 4.708c.939.618 2.04.943 3.163.933h17.322a5.67 5.67 0 0 0 5.26-3.472 5.7 5.7 0 0 0 .443-2.169V30.774a5.666 5.666 0 0 0-3.53-5.221 5.7 5.7 0 0 0-2.173-.42m-.042 22.733h-17.238v-17.05h17.231zm60.714-22.733H188.62a5.67 5.67 0 0 0-5.259 3.473 5.7 5.7 0 0 0-.443 2.168V53.55h5.76v-9.335h16.819v9.335h5.76V30.774a5.68 5.68 0 0 0-1.696-4.015 5.65 5.65 0 0 0-4.045-1.626m-.042 13.398h-16.819v-7.714h16.819zm67.3-13.398h-16.896a5.67 5.67 0 0 0-5.702 5.641V53.55h5.76v-9.335h16.78v9.335h5.76V30.774a5.666 5.666 0 0 0-1.683-4.001 5.67 5.67 0 0 0-4.019-1.64m-.058 13.398h-16.819v-7.714h16.819zm-33.408 9.335h-2.304l-8.236-20.352a3.8 3.8 0 0 0-3.518-2.38h-5.111a3.78 3.78 0 0 0-3.801 3.763v24.652h5.76V30.817h2.304l8.233 20.352a3.8 3.8 0 0 0 3.532 2.365h5.111a3.77 3.77 0 0 0 2.681-1.094 3.79 3.79 0 0 0 1.121-2.67V25.134h-5.772zm-77.913-22.733h-5.76v22.775a5.67 5.67 0 0 0 5.721 5.641h17.28v-5.683h-17.241z"})))))},{})},en=e=>{let{children:t,standalone:a,minHeight:n}=e,l=(0,w.useRef)(null),r=(0,u.lW)(),[i,o]=(0,w.useState)(415),{up:d}=(0,N.P)();return(0,w.useLayoutEffect)(()=>{if(a){let e=l.current&&l.current.offsetTop;o(null!=e?e:415)}},[null==r?void 0:r.width,null==r?void 0:r.height,a]),(0,s.jsx)("div",{className:(0,u.cx)("flounder:-ml-px flex flex-1 items-stretch [&_.bg-pool]:h-auto [&_.bg-pool]:py-[4vh] [&_.glare-wrapper]:z-20",n?"min-h-[600px] flounder:min-h-[620px] whale:min-h-[730px] whaleShark:min-h-[810px]":"min-h-[440px] w-full tuna:min-h-[576px] whaleShark:min-h-[680px]"),style:(null==d?void 0:d.whale)?{height:a?"calc(100vh - ".concat(i,"px - 8rem)"):"auto"}:void 0,children:t})},el=e=>{let{tokenImage:t,tokenState:a,standalone:n,retry:l}=e,{t:r}=(0,d.Bd)(),i=(0,w.useMemo)(()=>({loading:(0,s.jsx)(et,{loading:!0,animateCard:!0}),active:(0,s.jsx)(H.A,{glareEnable:!0,glareMaxOpacity:.4,gyroscope:!0,children:(0,s.jsx)(et,{image:t})}),error:(0,s.jsxs)(u.az,{textAlign:"center",className:"relative max-w-full mx-auto",children:[(0,s.jsx)(u.az,{textAlign:"center",className:"mb-4 text-itemErrorDefault",children:(0,s.jsx)(u.In,{iconKey:"alertFilled",size:24})}),(0,s.jsx)(et,{variant:"disabled"}),(0,s.jsxs)("div",{className:"mt-8 max-w-[440px] mx-auto space-y-2",children:[(0,s.jsx)("h3",{className:"font-sans font-bold text-body1",children:r("common.KEYS.ERROR_ORACLE_API")}),(0,s.jsx)("p",{className:"!mb-3 font-semibold text-body4 text-itemSecondaryDefault text-balance",children:r("dashboard.KEYS.NFT_LOADING_ERROR")}),(0,s.jsx)(u.$n,{application:!0,size:"sm",onClick:()=>l(),children:r("common.KEYS.TRY_AGAIN")})]})]}),inactive:(0,s.jsx)(u.az,{textAlign:"center",className:"relative max-w-full mx-auto",children:(0,s.jsx)(et,{variant:"unavailable"})})}),[t,a]);return(0,s.jsx)(en,{standalone:n,minHeight:"inactive"===a||"error"===a,children:(0,s.jsx)(F,{animate:!1,disabled:"inactive"===a,children:i[a]})})},er=e=>{let{timeStamp:t,keysPressed:a}=(0,u.bc)();(0,w.useEffect)(()=>{if(!e)return;let t=(0,u.RE)(["ArrowLeft"],a),n=(0,u.RE)(["j"],a),l=(0,u.RE)(["J"],a),r=(0,u.RE)(["ArrowUp"],a),i=(0,u.RE)(["ArrowRight"],a),o=(0,u.RE)(["k"],a),s=(0,u.RE)(["K"],a),d=(0,u.RE)(["ArrowDown"],a),c=(0,u.RE)(["Home"],a),m=(0,u.RE)(["Meta","ArrowUp"],a),h=(0,u.RE)(["End"],a),f=(0,u.RE)(["Meta","ArrowDown"],a);t||n||l||r?e("prev"):i||o||s||d?e("next"):c||m?e("top"):(h||f)&&e("bottom")},[t,a])};var ei=a(72989),eo=a(38822),es=a.n(eo),ed=a(96136),ec=a(35236),eu=a(30755),em=a(49633),eh=a(63904),ef=a(89138),ev=a(56042),ep=a(64875);let ex=(e,t,a)=>{let{t:n}=(0,d.Bd)(),{txFeePool:l}=(0,ep.useSfContracts)(),{contract:r}=(0,M.XX)(),{connectionStage:i,activeChainId:o}=(0,I.v)(),{hasPendingClaims:s}=(0,ef.F)(),c="legacy"===t,u="connected"===i||"readonly"===i,{validators:m,isAllRecordsFetched:h,error:f}=(0,ev.d)({refetchInterval:u&&13e3,options:{enabled:c&&u}}),v=c&&h?m.filter(e=>!e.nft).length:0,{data:p,error:x,isLoading:g,isRefetching:E,refetch:b}=(0,em.useQuery)(["singleTipRewards",e,v,o],async()=>e&&r&&l?eg(await l.pendingReward(e),v):null,{refetchInterval:u&&13e3,enabled:u&&!!e&&!!r&&!!l,...a}),T=(0,w.useMemo)(()=>null!==p&&!!u&&(!!c&&!h||g),[p,h,g,u]);return(0,w.useEffect)(()=>{u&&b()},[s,u]),{data:p,error:f||x&&(0,eh.u1)(x,n),isLoading:T,isRefetching:E,refetch:b}},eg=async(e,t)=>{let a=T.gH.from(e[0]),n=T.gH.from(e[1]),l=a.add(n);return{pending:a.toString(),claimed:n.toString(),total:t?l.div(t).toString():l.toString()}};var eE=a(6072);let eb=e=>{var t,a;let n=(0,_.nj)(e),{isNFTValidator:l}=n,r=ex(l?null==e||null==(t=e.nft)?void 0:t.address:null==e?void 0:e.owner,l?"nft":"legacy"),{data:i,error:o}=r,s=e?[e]:[],d=(0,eE.L)(s),c=(0,_.xW)(s,d),m={...e?c[e.index]:{},isCollected:(null==c?void 0:c.isCollected)&&(null==i?void 0:i.pending)==="0"},h=(null==m?void 0:m.state)==="Exited"||(null==m?void 0:m.state)==="Withdrawn",f=(null==m?void 0:m.state)==="Pending",{balanceInWei:v,error:p}=(0,eu.A)(null==e||null==(a=e.nft)?void 0:a.address),x=(0,w.useMemo)(()=>p?null:l&&v?v:T.gH.from(0),[v]),g=(0,ec.Q)({validatorIndicesOrCount:(null==e?void 0:e.index)?[null==e?void 0:e.index]:1,enabled:!h}),{isLoading:E,protocolRewards:b,tipMevRewards:S,error:A}=g,C=!!A,N=E?void 0:S.apr,I=(0,w.useMemo)(()=>{if(h||f)return _.A7.protocolAPR;let e=b.apr;return!es()(e)&&Number(e)?"".concat((0,ed.aK)(e).toFixed(2),"%"):u.AA.Hh},[h,f,b.apr]),R=(0,w.useMemo)(()=>h?_.A7.tipAPR:!C&&N?"".concat((0,ed.aK)(N).toFixed(2),"%"):u.AA.Hh,[h,N,C]),L=(0,w.useMemo)(()=>{let t=!o&&(null==i?void 0:i.pending);return e?l&&h&&m.isCollected&&!t?_.A7.tipRewards:l||(null==m?void 0:m.state)!=="Deposited"?l||(null==m?void 0:m.state)!=="Slashed"&&(null==m?void 0:m.state)!=="Exited"&&(null==m?void 0:m.state)!=="Withdrawn"?t?"".concat(y.Wp.padExecutionLayerData(y.Wp.formatWeiToEther(i.pending))," ETH"):u.AA.Hh:u.AA.Sb:u.AA.Hh:u.AA.Hh},[l,null==m?void 0:m.state,o,null==i?void 0:i.pending]),j=(0,w.useMemo)(()=>{let t=!o&&!!(null==i?void 0:i.pending);if(!e)return u.AA.Hh;if(!l||null===x)return u.AA.Sb;if(l&&h&&m.isCollected&&!t)return _.A7.nftValue;if(!t)return u.AA.Hh;let a=T.gH.from(e.balance).add(x).add(null==i?void 0:i.pending).toString();return"".concat(y.Wp.padExecutionLayerData(y.Wp.formatWeiToEther(a))," ETH")},[l,null==m?void 0:m.state,o,null==i?void 0:i.pending,e,x]);return{...n,protocolAPR:I,tipAPR:R,tipRewardsResponse:r,estimatedRewardsResponse:g,validatorStatus:m,tipRewards:L,nftValue:j}};var ew=a(49460),eT=a(14902),eS=a(54992),eA=a(16023);let ey=e=>{var t,a,n;let{t:l}=(0,d.Bd)(),{url:r}=(0,M.XX)(),{activeChainId:i,connectionStage:o}=(0,I.v)(),{withdrawalCredentials:s,validatorStatus:c}=eb(e),m=(0,w.useMemo)(()=>{if(!c||"connected"!==o)return!1;let{state:e,isCollectible:t,isSlashed:a}=c;return"Active"===e&&t||"Withdrawn"===e&&!0!==a},[c,null==e?void 0:e.blsToEthInProgress]),{verifiedAddress:h,isLoading:f}=(0,eA.c)({address:(0,eT.gO)(s.address),pubkey:null==e?void 0:e.pubkey,enabled:m}),{balanceInWei:v}=(0,eu.A)(null==e||null==(t=e.nft)?void 0:t.address),{hasPendingWithdrawNFTs:p,accountTxs:x}=(0,ef.F)(),g=(0,eS.E)(),E=!!(null==e?void 0:e.nft),b=null==r?void 0:r.etherScan,T=null==r?void 0:r.beaconChain,S=(null==h?void 0:h.addressType)==="eigenpod"?s.address:null==e?void 0:e.owner,C=(0,w.useMemo)(()=>!E||!v||(null==v?void 0:v.eq(0))?null:y.Wp.padBeaconChainData(y.Wp.formatWeiToEther(v.toString())),[v]),N=(0,w.useMemo)(()=>'<a target="_blank" rel="noopener noreferrer" href="'.concat(b,"/address/").concat(S,'">\n    ').concat(u.Wp.getTruncatedAddress({address:null!=S?S:"",left:8,prefix:"0x"}),"</a>.\n  "),[S,b,i]),R=(0,w.useMemo)(()=>{let t="&network=".concat(A()(y.Bt[i||y.cG]));return{variant:"success",text:l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_CHANGE_CREDENTIALS_SUBTITLE"),buttonProps:{children:l("withdrawal.KEYS.GET_STARTED"),color:"brand",href:"/ethereum/change-credentials?validator=".concat(null==e?void 0:e.index).concat(t),endIcon:{iconKey:"arrowRight"}},iconProps:{iconKey:"alertFilled"}}},[null==e?void 0:e.index,i]),L=(0,w.useMemo)(()=>{let t=(0,_.S7)(null==e?void 0:e.estimatedActivationTime);return t?l("dashboard.KEYS.VALIDATOR_PENDING_STATUS_TOOLTIP",{time:t}):l("dashboard.KEYS.VALIDATOR_PENDING_STATUS_TOOLTIP_ESTIMATE")},[null==e?void 0:e.estimatedActivationTime]),j=(0,w.useMemo)(()=>!!p&&!!x&&x.some(t=>{var a,n,l;return"withdrawNFT"===t.type&&(null==e||null==(a=e.nft)?void 0:a.tokenId)&&(null==(l=t.nftIDs)?void 0:l.includes(null==e||null==(n=e.nft)?void 0:n.tokenId))}),[p,x,null==e||null==(a=e.nft)?void 0:a.tokenId]),D=(0,w.useMemo)(()=>({variant:j?"loading":"success",buttonProps:j?void 0:{children:l("withdrawal.KEYS.COLLECT"),color:"brand",endIcon:{iconKey:"arrowRight"},onClick:()=>{var t;return g((null==e||null==(t=e.nft)?void 0:t.tokenId)?[e]:void 0)}}}),[j,g,null==e||null==(n=e.nft)?void 0:n.tokenId]);if(!c)return null;let{state:O,isWithdrawable:k,isWithdrawing:W,isCollectible:P,isCollected:K,isSlashed:z}=c;if("Pending"===O)return{variant:"neutral",text:L,tooltip:(null==e?void 0:e.estimatedPositionInQueue)?l("dashboard.KEYS.VALIDATOR_PENDING_QUEUE",{queue:e.estimatedPositionInQueue}):void 0};if(null==e?void 0:e.blsToEthInProgress)return{variant:"loading",text:l("withdrawal.KEYS.VALIDATOR_STATUS_CHANGING_SUBTITLE")};if("Active"===O&&!0!==k)return R;if("Active"===O&&P)return"connected"!==o?null:{...D,text:j?"".concat(l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_COLLECTING_SUBTITLE",{amount:C})," ").concat(N):l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_ACTIVE_COLLECTIBLE_SUBTITLE",{amount:C}),iconProps:{iconKey:"alertFilled"}};if("Exiting"===O)return{variant:"loading",text:(0,_.Er)(null==e?void 0:e.exitEpoch)?l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_EXITING_SUBTITLE",{epoch:null==e?void 0:e.exitEpoch,epochHref:"".concat(T,"/epoch/").concat(null==e?void 0:e.exitEpoch)}):l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_EXITING_SUBTITLE_ESTIMATE")};if("Exited"===O&&!0!==z){if(!E&&!W&&k)return{variant:"neutral",text:l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_EXITED_NOT_WITHDRAWABLE_SUBTITLE",{epoch:null==e?void 0:e.withdrawableEpoch,epochHref:"".concat(T,"/epoch/").concat(null==e?void 0:e.withdrawableEpoch)})};if(!E&&W&&k||E&&!P&&!K)return{variant:"loading",text:l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_EXITED_SUBTITLE",{epoch:null==e?void 0:e.withdrawableEpoch,epochHref:"".concat(T,"/epoch/").concat(null==e?void 0:e.withdrawableEpoch)})};if(!E&&!k)return R}if("Withdrawn"===O&&!0!==z){if("connected"!==o)return null;if(E&&P&&!K)return{...D,text:j?"".concat(l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_COLLECTING_SUBTITLE",{amount:C})," ").concat(N):l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_COLLECTIBLE_SUBTITLE",{amount:C})};if(!E||E&&K)return f?null:{variant:"success",text:"".concat(l("withdrawal.KEYS.VALIDATOR_STATUS_BANNER_WITHDRAWN_SUBTITLE")," ").concat(N)}}return z?{variant:"error",text:l("withdrawal.KEYS.VALIDATOR_STATUS_SLASHED")}:null},eC=e=>{var t;let{data:a,isLoading:n}=e,{t:l}=(0,d.Bd)(),{down:r}=(0,N.P)(),{url:i}=(0,M.XX)(),o=(0,ei.V)(null==a||null==(t=a.nft)?void 0:t.tokenId),c=eb(a),m=ey(a),{connectionStage:h}=(0,I.v)(),f=null==r?void 0:r.flounder,{balance:v,tipRewards:p,tipRewardsResponse:x,estimatedRewardsResponse:g,activationDate:E,pubKey:b,protocolRewards:w,protocolAPR:T,tipAPR:S,isNFTValidator:A,validatorStatus:y,nftValue:C}=c,R=(null==y?void 0:y.state)==="Exited"||(null==y?void 0:y.state)==="Withdrawn",L=(null==y?void 0:y.state)==="Withdrawn"||"unsupportedConnected"===h,j=L?"[&_*]:text-itemSecondaryDefault":void 0,D="error"!==o.tokenState&&"inactive"!==o.tokenState,O="".concat(null==i?void 0:i.beaconChain,"/validator/").concat(b),k=g.error,W=[{animationDelay:0,title:{text:l("dashboard.KEYS.CURRENT_BALANCE"),tooltip:l("dashboard.KEYS.CURRENT_BALANCE_TOOLTIP")},value:{text:v,isLoading:n},className:L?"text-itemSecondaryDefault":void 0,subValues:[{title:{text:l("dashboard.KEYS.NFT_VALUE"),tooltip:l("dashboard.KEYS.NFT_VALUE_TOOLTIP")},value:{text:C,isLoading:n||x.isLoading},className:C&&C!==_.A7.nftValue&&C!==u.AA.Sb?void 0:j},{title:{text:l("dashboard.KEYS.PROTOCOL_REWARDS"),tooltip:l("dashboard.KEYS.TOOLTIP_PROTOCOL_REWARDS")},value:{text:w,isLoading:n},className:j},{title:{text:l("dashboard.KEYS.TIP_REWARDS"),tooltip:!A&&l("dashboard.KEYS.TOOLTIP_APR_LEGACY")},value:{text:p,isLoading:n||x.isLoading},className:p&&p!==_.A7.tipRewards&&p!==u.AA.Sb?void 0:j}]},{animationDelay:0,showValues:!1,title:{text:""},value:{text:""},subValues:[{title:{text:l("dashboard.KEYS.STATUS")},value:{text:(0,s.jsx)(ew.T,{text:(null==y?void 0:y.state)||u.AA.Sb,estimateActivationTime:null==a?void 0:a.estimatedActivationTime,epochs:{exit:null==a?void 0:a.exitEpoch,withdrawable:null==a?void 0:a.withdrawableEpoch},activationDate:E,className:"justify-start"}),isLoading:n,className:j}},{title:{text:l("dashboard.KEYS.WITHDRAWAL_CREDENTIALS"),tooltip:l("dashboard.KEYS.WITHDRAWAL_CREDENTIALS_TOOLTIP")},value:{text:(null==a?void 0:a.withdrawalCredentials)&&(0,s.jsx)(u.Mz,{address:a.withdrawalCredentials,truncated:!0,truncatedProps:{left:0,prefix:(0,eT.iL)(a.withdrawalCredentials),right:f?28:16},wrapperClassName:"overflow-hidden"}),isLoading:n},className:(0,u.cx)(j,"overflow-hidden")},{title:{text:l("dashboard.KEYS.PUBKEY")},value:{text:a&&(0,s.jsx)(u.Mz,{address:a.pubkey,wrapperClassName:"overflow-hidden",externalLink:O}),isLoading:n},className:(0,u.cx)(j,"overflow-hidden")},{title:{text:l("dashboard.KEYS.PROTOCOL_REWARDS_APR"),tooltip:l("dashboard.KEYS.TOOLTIP_APR")},value:{text:!T&&k?(0,s.jsx)(u.yI,{title:k.title,text:k.subtitle,buttonProps:{onClick:()=>window.location.reload(),children:l("common.KEYS.TRY_AGAIN")},popoverProps:{align:"end"},className:"z-[1003]"}):T,isError:!!g.error,isLoading:g.isLoading,className:j}},{title:{text:l("dashboard.KEYS.TIP_REWARDS_APR"),tooltip:l("dashboard.KEYS.TOOLTIP_APR")},value:{text:!S&&k?(0,s.jsx)(u.yI,{title:k.title,text:k.subtitle,buttonProps:{onClick:()=>window.location.reload(),children:l("common.KEYS.TRY_AGAIN")},popoverProps:{align:"end"}}):S,isError:!!g.error,isLoading:g.isLoading,className:j}}],className:(0,u.cx)(j,"overflow-hidden")}],P=L&&R&&(null==y?void 0:y.isCollected)?"gray":(null==y?void 0:y.state)==="Slashed"?"red":"green";return{NFTImage:o,isExitedOrWithdrawn:R,validatorWidgets:W,showSharingButton:D,dropdownBreakpoint:f,starIconColor:P,bannerProps:m,tipRewards:p}},eN=e=>{var t,a;let{data:n,isLoading:l,standalone:r,error:i,isLightTheme:o,disablePrevButton:p,disableNextButton:x,changeDialogValidator:g}=e,{t:E}=(0,d.Bd)(),{NFTImage:b,isExitedOrWithdrawn:w,validatorWidgets:T,bannerProps:S,showSharingButton:A,dropdownBreakpoint:y,starIconColor:C,tipRewards:N}=eC({data:n,isLoading:l}),{tokenImage:_,tokenState:I,retry:R}=b,L=!r&&!(p&&x);return er(g),(0,s.jsx)("div",{className:(0,u.cx)("relative overflow-hidden flounder:overflow-visible flounder:min-h-full flounder:flex flounder:flex-col space-y-3",r&&"pr-0 block"),children:i?(0,s.jsx)(u.Vz,{title:i.title,subtitle:i.subtitle,cta:(0,s.jsx)(u.$n,{application:!0,size:"md",variant:"outline",className:"w-full",onClick:()=>window.location.reload(),children:E("common.KEYS.TRY_AGAIN")})}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(u.az,{flex:!0,className:"gap-4",justifyContent:"space-between",children:[(0,s.jsxs)(u.az,{flex:!0,className:"relative",children:[n&&(null==(t=n.nft)?void 0:t.tokenId)&&(0,s.jsx)("div",{className:"mr-2 flounder:absolute flounder:right-full",children:(0,s.jsx)(h.F,{className:"size-6",variant:C})}),(0,s.jsxs)(u.az,{flex:!0,className:"gap-3",children:[(0,s.jsx)(u.az,{flex:!0,children:(0,s.jsxs)(u.az,{flex:!0,className:"gap-2",alignItems:"baseline",children:[(0,s.jsx)("h4",{className:"font-sans font-bold text-[clamp(25.2px,1rem+0.714286vmin,28px)]",children:E("dashboard.KEYS.VALIDATOR")}),(0,s.jsx)("h4",{className:"font-mono font-semibold text-[clamp(25.2px,1rem+0.714286vmin,28px)] text-itemSecondaryDefault",children:l?(0,s.jsx)(c.A,{width:92}):"0"===String(null==n?void 0:n.index)?u.AA.Hh:null==n?void 0:n.index})]})}),A&&!y&&(null==n||null==(a=n.nft)?void 0:a.tokenId)&&(0,s.jsx)("div",{className:"ml-auto",children:(0,s.jsx)(K,{tokenId:n.nft.tokenId,isLightTheme:o})})]})]}),(0,s.jsxs)(u.az,{flex:!0,className:"gap-2",children:[(0,s.jsx)("div",{className:(0,u.cx)("w-full justify-between",!r&&"fixed w-auto right-0 bottom-0 top-auto py-2 pr-[15px] z-[10002] select-none flounder:static flounder:p-0 flounder:inset-1 flounder:mt-px"),children:!r&&(0,s.jsx)("div",{children:(0,s.jsx)(k,{align:"end",tipRewards:N||void 0,disableExit:w,validator:n||void 0})})}),L&&(0,s.jsx)(u.m_,{content:E("dashboard.KEYS.KEYBOARD_NAV_TOOLTIP"),className:"px-4 py-3 [&_ul]:list-inside flounder:max-w-[340px]",dangerousContent:!0,children:(0,s.jsxs)(u.az,{flex:!0,className:(0,u.cx)("flex-1 flounder:w-[127px] flounder:min-w-[127px] flounder:flex-none",!r&&"border-t border-itemPrimaryMute fixed inset-x-0 bottom-0 top-auto py-2 pl-[15px] pr-[59px] bg-backgroundPrimaryDefault z-[10001] flounder:border-transparent flounder:static flounder:p-0 flounder:inset-auto"),children:[(0,s.jsx)(f,{direction:"prev",buttonProps:{onClick:()=>g&&g("prev"),disabled:p}}),(0,s.jsx)(f,{direction:"next",buttonProps:{onClick:()=>g&&g("next"),disabled:x}})]})})]})]}),(0,s.jsx)("div",{children:(0,s.jsx)(m.A,{dataWidgets:T,className:"flex flex-wrap gap-2 pb-0 flounder:grid flounder:gap flounder:flex-nowrap flounder:gap-0 flounder:grid-cols-2"})}),!!S&&!r&&(0,s.jsx)(v,{...S}),(0,s.jsx)(el,{tokenState:!0===l?"loading":I,tokenImage:_,standalone:r,retry:R})]})})}},54992:(e,t,a)=>{a.d(t,{E:()=>c});var n=a(49633),l=a(63226),r=a(55729),i=a(89138),o=a(32052),s=a(4754),d=a(56659);let c=e=>{let{url:t}=(0,o.XX)(),{nftManager:a}=l.Wp.useSfContracts(),{activeChainId:c,activeAccount:u}=(0,s.v)(),{createTxLink:m,addPendingTx:h,handleTxError:f,addSafeTx:v}=(0,i.F)(),{mutateAsync:p}=(0,n.useMutation)({mutationFn:async e=>{if(!a||!e.length)return null;let t=e.map(e=>e.nft.tokenId),n=l.Db.createInterface().encodeFunctionData("withdraw"),r=t.map(()=>n);return a.multicall(t,r)}});return(0,r.useCallback)(async a=>{if(!p||!c||!a||!u||!(null==t?void 0:t.safeTx))throw Error("Missing required provider or contract.");let n={type:"withdrawNFT",account:u,chainId:c,hash:"",link:"",nftIDs:a.map(e=>{var t;return(null==(t=e.nft)?void 0:t.tokenId)||""})};try{var l;let r=null==(l=await p(a))?void 0:l.hash;if(!r)throw Error("Missing transaction hash");e&&e(),await (0,d.z)(r,t.safeTx)?v({...n,hash:r,onSuccess:e=>{h({...n,hash:e,link:m(e)})},onError:()=>{f({title:"Error",subtitle:"Withdraw NFT Error"},n)}}):h({...n,hash:r,link:m(r)})}catch(e){throw f(e,n),e}},[p,c,u,null==t?void 0:t.safeTx])}},63228:(e,t,a)=>{a.d(t,{dv:()=>i,i3:()=>r,pO:()=>o});var n=a(21505),l=a(63226);let r=(e,t)=>{let[a,r]=String(e).split(".");if(String(e).includes(".")&&(!a||!r))return"commonForms.ERRORS.INVALID_VALUE";if(r&&r.length>18)return"commonForms.ERRORS.TOO_MANY_DECIMALS";try{let a=n.gH.from(l.Wp.formatEtherToWei(String(e))),r=n.gH.from(l.Wp.formatEtherToWei(String(t)));if(a.gt(r))return"commonForms.ERRORS.TOO_BIG"}catch(e){return"commonForms.ERRORS.INVALID_VALUE"}return!0},i=(e,t)=>{let a=n.gH.from(l.Wp.formatEtherToWei(String(e))),r=n.gH.from(l.Wp.formatEtherToWei(String(t)));return l.Wp.padExecutionLayerData(l.Wp.formatWeiToEther(a.add(r).toString()))},o=(e,t,a)=>{let r=n.gH.from(l.Wp.formatEtherToWei(String(e))),i=n.gH.from(l.Wp.formatEtherToWei(String(a))),o=r.gt(i)?i:r,s=r.sub(o);return{nftClaimingValue:l.Wp.padExecutionLayerData(l.Wp.formatWeiToEther(s.toString())),legacyClaimingValue:l.Wp.padExecutionLayerData(l.Wp.formatWeiToEther(o.toString())),total:e}}},71746:(e,t,a)=>{a.d(t,{g:()=>h});var n=a(63904),l=a(21505),r=a(14187),i=a(90490),o=a(22900),s=a(47016),d=a(64875),c=a(49633),u=a(4754);let m=e=>{let{activeAccount:t}=(0,u.v)(),{txFeePool:a}=(0,d.useSfContracts)();return(0,c.useQuery)(["tipAndMEVRewardsNonNFT",t],async()=>a&&t?a.pendingReward(t):[l.gH.from(0),l.gH.from(0)],{enabled:(null==e?void 0:e.enabled)&&!!a,refetchInterval:13e3,...e})},h=(e,t)=>{let{t:a}=(0,r.Bd)(),{activeChainId:d}=(0,u.v)(),{claims:c,isAllRecordsFetched:h,error:f}=(0,i.T)(),v=1===d,p={...t,enabled:v&&(null==t?void 0:t.enabled)},{data:x,error:g,isLoading:E,isRefetching:b}=(0,s.o)((0,o.IE)(e),p),{data:w,error:T,isLoading:S,isRefetching:A}=m(t),y=v&&g||T,C=v&&E||S,N=v&&b||A,_={pendingTotal:[w||[l.gH.from(0),l.gH.from(0)],...x||[]].reduce((e,t)=>e.add(t[0]),l.gH.from(0)).toString(),pendingNFT:x?x.reduce((e,t)=>e.add(t[0]),l.gH.from(0)).toString():void 0,pendingLegacy:w?l.gH.from(0).add(w[0]).toString():void 0},I=c.length?c.reduce((e,t)=>e.add(l.gH.from(t.reward)),l.gH.from(0)).toString():"0";return{data:_&&h?{..._,claimed:I,total:l.gH.from(_.pendingTotal).add(I||0).toString()}:null,error:y?(0,n.u1)(y,a):f,isLoading:null!=t&&!!t.enabled&&C,isRefetching:N}}},72989:(e,t,a)=>{a.d(t,{V:()=>o});var n=a(55729),l=a(32052),r=a(8685);let i=e=>{let t=new FileReader;return t.readAsDataURL(e),new Promise(e=>{t.onloadend=()=>{e(t.result)}})},o=e=>{let{url:t}=(0,l.XX)(),[a,o]=(0,n.useState)(),[s,d]=(0,n.useState)(!0),[c,u]=(0,n.useState)(!1),[m,h]=(0,n.useState)(!1);return(0,n.useEffect)(()=>{if(!e||!(null==t?void 0:t.api)){o(void 0),d(!0),u(!1);return}let a=new AbortController,n=a.signal;return(async()=>{d(!0),u(!1),h(!1);try{let a=await fetch("".concat(r.F.validatorByTokenID(null==t?void 0:t.api,e),"/svg"),{signal:n}),l=await a.blob(),s=await i(l);o(s),d(!1),u(200!==a.status)}catch(e){"AbortError"!==e.name&&(u(!0),d(!1),o(void 0))}})(),()=>{a.abort()}},[m,e,null==t?void 0:t.api]),{tokenImage:a,tokenState:e||c?c?"error":s?"loading":"active":"inactive",retry:()=>{h(!0)}}}},79398:(e,t,a)=>{a.d(t,{X:()=>s});var n=a(6029),l=a(55729),r=a(14187),i=a(89138),o=a(56191);let s=e=>{let{disabled:t,onClick:a,className:s,...d}=e,c=(0,l.useRef)(null),{t:u}=(0,r.Bd)(),{hasPendingClaims:m}=(0,i.F)();return(0,n.jsx)(o.$n,{application:!0,color:"inverse",size:"md",disabled:t,onClick:a,"data-testid":"claim-ctaButton",ref:c,className:(0,o.cx)("w-full",s),...d,children:u(m?"dashboard.KEYS.CLAIMING_STATUS":"dashboard.KEYS.CLAIM_CTA")})}},90490:(e,t,a)=>{a.d(t,{T:()=>m});var n=a(55729),l=a(14187),r=a(63904),i=a(32052),o=a(89138),s=a(8685),d=a(44327);let c=e=>{let t=(0,n.useRef)(e);return(0,n.useEffect)(()=>{t.current=e},[e]),t.current};var u=a(4754);let m=()=>{let{url:e,contract:t}=(0,i.XX)(),{activeAccount:a,activeChainId:m}=(0,u.v)(),{t:h}=(0,l.Bd)(),{hasPendingClaims:f}=(0,o.F)(),v=c(f),{data:p,refetch:x,error:g,isLoading:E}=(0,d.P)({queryKey:["claims",a,m,null==e?void 0:e.api,null==t?void 0:t.feePool],enabled:!!a&&!!(null==e?void 0:e.api)&&!!(null==t?void 0:t.feePool),queryFn:n=>{let{pageParam:l={limit:d.z,offset:0}}=n;return s.y.findClaims(a,e.api,t.feePool,l.limit,l.offset)}});(0,n.useEffect)(()=>{v&&!f&&x({cancelRefetch:!1})},[f]);let b=(null==p?void 0:p.pages.reduce((e,t)=>[...e,...t.results],[]))||[];return{claims:b,isLoading:E,error:g&&(0,r.u1)(g,h),isAllRecordsFetched:b.length===(null==p?void 0:p.pages[0].totalItems)}}}}]);