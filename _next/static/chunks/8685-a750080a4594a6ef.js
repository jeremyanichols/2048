"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8685],{1203:(t,e,a)=>{a.d(e,{Bp:()=>l,Hx:()=>i,PJ:()=>f,hx:()=>c,m8:()=>o,rd:()=>s,tJ:()=>u});var r=a(71963),n=a(91752);let o=t=>"".concat((0,r.formatInTimeZone)(t,"UTC","yyyy-MM-dd HH:mm:ss")," UTC"),i=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",a=new Date(1e3*t);return"numeric"===e?o(a):a.toLocaleDateString("en-US",{month:"short",day:"numeric",timeZone:"UTC"})},l=t=>t.toISOString().replace(/.\d+Z$/g,""),c=t=>Math.floor(t.getTime()/1e3),d=t=>"".concat(t.getUTCFullYear(),"-").concat(String(t.getUTCMonth()+1).padStart(2,"0"),"-").concat(String(t.getUTCDate()).padStart(2,"0")),s=function(t,e){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:n.e5,r=new Date(e);r.setDate(r.getDate()-(t-1)*a);let o=new Date(e);return o.setDate(o.getDate()-(t-1)*a-a+1),{startDate:d(o),endDate:d(r)}},u=(t,e)=>{let a=Math.trunc(32*t),r=new Date(e.getTime()+12*a*1e3);return r.toISOString().split("T")[0]+" "+r.toTimeString().split(" ")[0]},f=t=>{let e=Math.round((Math.floor(Date.now()/1e3)-t)/86400),a=Math.floor(e/7),r=Math.floor(e/30),n=Math.floor(e/365);return 0===e?"Today":1===e?"Yesterday":e<7?"".concat(e," day").concat(1!==e?"s":""," ago"):a<4?"".concat(a," week").concat(1!==a?"s":""," ago"):r<12?"".concat(r," month").concat(1!==r?"s":""," ago"):"".concat(n," year").concat(1!==n?"s":""," ago")}},8685:(t,e,a)=>{a.d(e,{F:()=>l,y:()=>c});var r=a(21505),n=a(22900),o=a(26906);let i="/v1/eth/oracle",l={validators:t=>"".concat(t).concat(i,"/validators"),validatorByTokenID:(t,e)=>"".concat(t).concat(i,"/nft_validator/").concat(e),balance:(t,e)=>"".concat(t).concat(i,"/wallet/").concat(e),claims:(t,e,a)=>"".concat(t).concat(i,"/wallet/").concat(e,"/pool/").concat(a,"/claims"),changeCredentials:t=>"".concat(t).concat(i,"/validator/change-bls-to-execution"),stakingSummary:t=>"".concat(t).concat(i,"/validators/summary"),clusters:t=>"".concat(t).concat(i,"/clusters"),clusterValidators:(t,e)=>"".concat(t).concat(i,"/clusters/").concat(e,"/validators"),clusterSummary:(t,e)=>"".concat(t).concat(i,"/clusters/").concat(e,"/summary")},c={findValidators:async t=>{let{serviceURL:e,indices:a,address:n,limit:i,offset:c}=t,d=(await o.Q.get(l.validators(e),{params:{owner:a?void 0:n,ids:null==a?void 0:a.join(","),limit:i,offset:c}})).data,s=d.results.map(t=>{let e=r.gH.from(t.effectiveBalance),a=r.gH.from(t.balance),n="0"===t.effectiveBalance?"0":a.sub(e).toString();return{...t,reward:n}});return{totalItems:d.totalItems,results:s}},findValidatorByTokenID:async(t,e)=>{try{let a=(await o.Q.get(l.validatorByTokenID(e,t))).data,i=(0,n.Cb)(a),c=r.gH.from(i.effectiveBalance).mul(1e9),d=r.gH.from(i.balance).mul(1e9),s="0"===i.effectiveBalance?"0":d.sub(c).toString();return{...i,effectiveBalance:c,balance:d,reward:s}}catch(t){var a;if((null==(a=t.response.data)?void 0:a.detail)==="Validator with provided tokenId not found")return null;if(t instanceof Error)throw t;throw Error("Unknown error occurred")}},getBalance:async(t,e)=>{try{return(await o.Q.get(l.balance(e,t))).data}catch(t){if(t instanceof Error)throw t;throw Error("Unknown error occurred")}},findClaims:async(t,e,a,r,n)=>await o.Q.get(l.claims(e,t,a),{params:{limit:r,offset:n}}).then(t=>t.data),changeBLSToEth1Credentials:async(t,e)=>{if(!e)throw Error("Missing required parameters");let a=new FormData;return a.append("file",t),(await o.Q.post(l.changeCredentials(e),a,{headers:{"Content-Type":"multipart/form-data"}})).data},getStakingSummary:async t=>{try{return(await o.Q.get(l.stakingSummary(t))).data}catch(t){if(t instanceof Error)throw t;throw Error("Unknown error occurred")}},getClusters:async t=>{if(!t)throw Error("Missing required parameters");let e=await o.Q.get(l.clusters(t));try{return e.data}catch(t){if(t instanceof Error)throw t;throw Error("Unknown error occurred")}},getClusterValidators:async(t,e,a,r)=>{if(!t)throw Error("Missing required parameters");let n=await o.Q.get(l.clusterValidators(t,e),{params:{limit:a,offset:r}});try{return n.data}catch(t){if(t instanceof Error)throw t;throw Error("Unknown error occurred")}},getClusterSummary:async(t,e)=>{if(!t)throw Error("Missing required parameters");let a=await o.Q.get(l.clusterSummary(t,e));try{return a.data}catch(t){if(t instanceof Error)throw t;throw Error("Unknown error occurred")}}}},14902:(t,e,a)=>{a.d(e,{A_:()=>w,E$:()=>d,GY:()=>f,f1:()=>s,gO:()=>c,iL:()=>i,wf:()=>l,xV:()=>h});var r=a(91752);let n=["0x00","0x01","0x02"],o={"0x00":r.je,"0x01":r.Wn,"0x02":r.dz},i=t=>s(t)||(null==t?void 0:t.includes(r.je))?t.substring(0,4):"",l=t=>u(t)?"0x".concat(h(t)):t,c=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"0x01";return u(t)?t:"".concat(e,"0000000000000000000000").concat(f(t))},d=t=>!!t&&t.includes(r.dz),s=t=>!!t&&(t.includes(r.Wn)||d(t)),u=t=>!!t&&(s(t)||(null==t?void 0:t.includes(r.je))),f=t=>t?t.replace("0x","").toLowerCase():void 0,h=t=>{if(!t)return;let e=n.find(e=>t.includes(e)),a=e?o[e]:"";return t.replace(a,"").toLowerCase()},w=(t,e,a)=>{if(t){if(e&&e===t)return!0;if(a){let e=f(t);return h(a)===e}}}},22900:(t,e,a)=>{a.d(e,{$B:()=>w,A7:()=>p,Cb:()=>x,Di:()=>g,Er:()=>C,IE:()=>m,Ml:()=>u,S7:()=>y,_1:()=>v,nj:()=>E,xW:()=>h});var r=a(17e3),n=a(21505),o=a(63226),i=a(56191),l=a(71367),c=a(91752),d=a(1203),s=a(14902);let u=["Confirming","Deposited","Pending","Active","Slashed","Exiting","Exited","Withdrawn"],f=(t,e)=>{let a,r=!!(null==t?void 0:t.nft),n=(0,s.f1)(null==t?void 0:t.withdrawalCredentials);if(!t)return null;let{pubkey:o,nft:i,status:l}=t,d={};if("unjustified"===l)a="Confirming";else if(o.includes(c.IU)||(null==i?void 0:i.state)==="PreDeposit")a="Deposited";else if("pending_initialized"===l||"pending_queued"===l)a="Pending";else if("active_exiting"===l||(null==i?void 0:i.state)==="ExitRequested")a="Exiting";else if("active_ongoing"===l)a="Active",d={isCollectible:r&&!!e&&e.gt(0)};else if("exited_unslashed"===l||"withdrawal_possible"===l)a="Exited",d={isWithdrawing:r?"withdrawal_possible"===l:n};else if("withdrawal_done"===l)a="Withdrawn",d={isCollectible:!!r&&!!e,isCollected:!!r&&!!e&&e.eq(0)};else if("active_slashed"===l)a="Slashed",d={isSlashed:!0};else{if("exited_slashed"!==l)return null;a="Exited",d={isSlashed:!0}}return{state:a,isWithdrawable:n,...d}},h=(t,e)=>t.reduce((t,a)=>{var r;return t[a.index]=f(a,n.gH.from(e&&(null==(r=a.nft)?void 0:r.address)&&e[a.nft.address]?e[a.nft.address][c.B2]:n.gH.from(0))),t},{}),w=async(t,e,a)=>{if(t&&t.length)try{return await (0,l.getAddressesBalances)(e,t,[c.B2],{contractAddress:a})}catch(t){console.error(t);return}},g=(t,e)=>{var a;let r="0x02"===e;if(r&&"EIGEN_POD"===t)return"EPOD";if(r&&"SAFE"===t)return"SAFE";if(r)return"COMP";let n=t?null!=(a=({EIGEN_POD:"EPOD",EOA:"ETH1",UNKNOWN_CONTRACT:"N/A"})[t])?a:t:null;return null!=n?n:"0x01"===e?"ETH1":"BLS"},E=(t,e)=>{if(!t)throw Error("No validator");if(1===Object.keys(t).length&&"index"===Object.keys(t)[0])return{index:t.index,pubKey:"",withdrawalCredentials:{type:void 0,raw:void 0,address:""},activationDate:void 0,status:"Error",isNFTValidator:!1,balance:"",protocolRewards:void 0,nftRewards:void 0,totalRewards:""};let a=o.Wp.formatWeiToEther(t.balance),r=o.Wp.formatWeiToEther(t.reward),l=e?o.Wp.formatWeiToEther(e):void 0,u=!l||"0"===l,h=o.Wp.formatWeiToEther(n.gH.from(t.reward).add(e||0).toString()),w=t.pubkey.includes(c.IU),E=f(t),m=(0,s.iL)(t.withdrawalCredentials),v={index:t.index,pubKey:w?i.AA.Hh:t.pubkey,withdrawalCredentials:{type:g(t.wcLabel,m),raw:t.withdrawalCredentials,address:(0,s.wf)(null==t?void 0:t.withdrawalCredentials)},activationDate:t.activatedAt?(0,d.m8)(t.activatedAt):i.AA.Hh,status:(null==E?void 0:E.state)||i.AA.Sb,isNFTValidator:!!t.nft,nftRewards:u?void 0:"".concat(o.Wp.padBeaconChainData(l)," ETH")};if((null==E?void 0:E.state)!=="Withdrawn"){let t="Exited"!==v.status&&"0"===r;return{balance:"".concat(o.Wp.padBeaconChainData(a)," ETH"),protocolRewards:t?i.AA.Hh:"".concat(o.Wp.padBeaconChainData(r)," ETH"),totalRewards:t?i.AA.Hh:"".concat(o.Wp.padBeaconChainData(h)," ETH"),...v}}return{balance:p.balance,totalRewards:p.totalRewards,protocolRewards:p.protocolRewards,...v}},p={balance:"0.000000000 ETH",nftValue:"0.000000000000000000 ETH",totalRewards:"0.000000000 ETH",protocolRewards:"0.000000000 ETH",tipRewards:"0.000000000000000000 ETH",protocolAPR:"0.00%",tipAPR:"0.00%"},m=t=>(null==t?void 0:t.filter(t=>t.nft&&"PreDeposit"!==t.nft.state&&"PostDeposit"!==t.nft.state).map(t=>{var e;return null==(e=t.nft)?void 0:e.tokenId}))||[],v=t=>t.filter(t=>{var e,a,r;return t.nft&&(null==(e=t.nft)?void 0:e.tokenId)!==null&&(null==(a=t.nft)?void 0:a.state)!=="PreDeposit"&&(null==(r=t.nft)?void 0:r.state)!=="PostDeposit"}).reduce((t,e)=>(e.nft.tokenId&&(t[e.nft.tokenId]=e),t),{}),y=t=>{if(t)try{let e=(0,r.A)(new Date(t),new Date),{days:a,hours:n}=b(e);return"".concat(a?a+(1===a?" day and ":" days and "):""," ").concat(n," ").concat(1===n?" hour":" hours")}catch(t){console.error(t);return}},C=t=>t&&"18446744073709551615"!==t,b=t=>{let e=Math.floor(t/1440),a=t%1440;return{days:e,hours:Math.floor(a/60)+(Math.floor(a%60)>30?1:.5)}},x=t=>Array.isArray(t)?t.map(t=>x(t)):null!==t&&"object"==typeof t?Object.keys(t).reduce((e,a)=>(e[a.replace(/_([a-z])/g,(t,e)=>e.toUpperCase())]=x(t[a]),e),{}):t},26906:(t,e,a)=>{a.d(e,{Q:()=>n});var r=a(32);let n=a.n(r)().create({headers:{Authorization:"pub_dadb8aa4a70be3f6027cffa0ce11ad84.8a5fd9a18009560e94004423e770c3e9b15422c90c4aa3ae026d3ab019cd5ac0"}})},91752:(t,e,a)=>{a.d(e,{B2:()=>l,IU:()=>r,PW:()=>d,Wn:()=>n,dN:()=>c,dz:()=>o,e5:()=>u,je:()=>i,z6:()=>s});let r="0x000000000",n="0x010000000000000000000000",o="0x020000000000000000000000",i="0x00",l="0x0000000000000000000000000000000000000000",c="0xbeaC0eeEeeeeEEeEeEEEEeeEEeEeeeEeeEEBEaC0",d=["BLS","ETH1","EPOD","NFT","SAFE","COMP","N/A"],s=/[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,}$/,u=30}}]);